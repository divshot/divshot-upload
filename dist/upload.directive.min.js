(function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var u=typeof require=="function"&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=r[o]={exports:{}};t[o][0].call(f.exports,function(e){var r=t[o][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i})({1:[function(e,t,r){var n=e("hyperquest");var i=e("through");var s=e("JSONStream");var i=e("through");var o=e("./lib/upload_complete");var a=e("./lib/finalize_build");var u=e("./lib/file_tracker");var f=e("./lib/api");var l={tar:"tar_url",zip:"zip_url"};var h=function(e){var t=i().pause();var r=e.type||"tar";var h=e.config;var p=e.environment||"production";var d=f(e);var v=d.currentApp;var g=d.self;t.emit("message","Creating build ... ");m(h);return t;function m(e){var i={};v.builds.create({config:e},function(f,h){if(f)return t.emit("error","Failed to initiate deploy: "+f);if(typeof h==="string"&&h.toLowerCase().indexOf("not found")>-1)return y(e);if(h&&h.status==401)return t.emit("error",h);if(!h||!h.loadpoint)return t.emit("error","Failed to deploy application. Please try again.");t.emit("message","Build created");t.emit("message","Deploying build ... ");var d=n(h.loadpoint[l[r]],c(h));t.pipe(d).pipe(s.parse()).on("data",u(t,i)).on("end",o(t,i,a(t,v,h,p)))})}function y(e){g.apps.create(e.name.toLowerCase(),function(r,n,i){if(r)return t.emit("error",r);if(n.error==="invalid_token")return t.emit("error","You need to be logged in before you can deploy.");if(i.error)return t.emit("error",i.error);if(n.statusCode>=400)return t.emit("error",i.error);t.emit("message",e.name+" has been created");m(e)})}};function c(e){return{method:"PUT",headers:{"Content-Type":"application/octet-stream",Authorization:e.loadpoint.authorization}}}t.exports=h},{"./lib/api":2,"./lib/file_tracker":4,"./lib/finalize_build":5,"./lib/upload_complete":6,JSONStream:7,hyperquest:52,through:70}],2:[function(e,t,r){var n=e("divshot-api");var i=e("is-node");t.exports=function(e){var t={token:e.token};if(!i){t.client_id=e.client_id;t.session=true}if(e.host)t.host=e.host;var r=new n(t);return{self:r,currentApp:r.apps.id(e.config.name)}}},{"divshot-api":30,"is-node":55}],3:[function(e,t,r){var n=e("../../index.js");var i=e("drag-and-drop-files");var s=e("as-stream");var o=e("through");angular.module("divshot.upload",[]).directive("dsUpload",function(){return{restrict:"E",replace:true,transclude:true,scope:{dsType:"=",dsConfig:"=",dsEnvironment:"=",dsToken:"=",dsClientId:"=",dsHost:"=",dsEnter:"&",dsLeave:"&",dsDrop:"&",dsProgress:"&",dsDone:"&",dsBegin:"&",dsError:"&"},template:["<div>","<form>",'<input type="file" class="divshot-upload-input" multiple="false" accept="application/zip"/>',"</form>","<div ng-transclude></div>",'<div class="ds-dropzone"></div>',"</div>"].join("\n"),controller:["$scope",function(e){e.uploadOptions={type:e.dsType||"zip",token:e.dsToken,client_id:e.dsClientId,environment:e.dsEnvironment,config:e.dsConfig};if(e.dsHost)e.uploadOptions.host=e.dsHost;e.sendProgress=function(t){return function(r){e.dsProgress({type:t,message:r||""});e.$apply()}};e.sendDone=function(){e.dsDone();e.$apply()};e.sendError=function(t){e.dsError({message:t});e.$apply()};e.sendUnreleased=function(t){e.dsUnreleased({files:t});e.$apply()};e.sendBegin=function(t){e.dsBegin({file:t});e.$apply()}}],link:function(e,t,r){var a=t[0].querySelector("form");var u=t[0].querySelector(".ds-dropzone");var f=t[0].querySelector(".divshot-upload-input");u.addEventListener("dragenter",p,false);u.addEventListener("dragleave",d,false);u.addEventListener("click",v);a.addEventListener("change",h);i(t[0],c);g();function l(t){e.sendBegin(t);m(t).pipe(n(e.uploadOptions)).on("message",e.sendProgress("message")).on("released",e.sendProgress("released")).on("releasing",e.sendProgress("releasing")).on("loading",e.sendProgress("loading")).on("pushed",e.sendDone).on("unreleased",e.sendUnreleased).on("error",e.sendError)}function h(e){var t=e.target.files;l(t[0])}function c(r){t.removeClass("enter");t.removeClass("leave");e.dsDrop({});l(r[0])}function p(r){r.preventDefault();t.removeClass("leave");t.addClass("enter");e.dsEnter({})}function d(r){r.preventDefault();t.removeClass("enter");t.addClass("leave");e.dsLeave({})}function v(e){e.preventDefault();f.click()}function g(){t.css({position:"relative"});angular.element(a).css({display:"none"});angular.element(u).css({cursor:"pointer",height:"100%",left:0,position:"absolute",top:0,width:"100%"})}function m(e){var t=o();var r=new FileReader;r.addEventListener("load",function(e){var r=new Uint8Array(e.target.result);s(r).pipe(t)});r.addEventListener("error",function(e){t.emit("error",e)});r.readAsArrayBuffer(e);return t}}}})},{"../../index.js":1,"as-stream":9,"drag-and-drop-files":51,through:70}],4:[function(e,t,r){t.exports=function(e,t){return function(r){switch(r.event){case"unpack":e.emit("unpack",r.data.path);t[r.data.path]||(t[r.data.path]={});t[r.data.path].unpacked=true;break;case"released":e.emit("released",r.data.path);t[r.data.path].released=true;break;case"message":e.emit("message",r.data);break;case"_error":t[r.data.path].error=r.data;e.emit("error",r.data);break;case"done":e.done=true;e.emit("done");break}}}},{}],5:[function(e,t,r){t.exports=function(e,t,r,n){var i=t.builds.id(r.id);return function(){if(!e.done){e.emit("error",'Build upload never received "done" event. Assuming upload has failed.');return}e.emit("message","Finalizing build ... ");i.finalize(function(t,r){if(t)return e.emit("error",t);if(r.statusCode<200||r.statusCode>=300){var s={};try{s=JSON.parse(r.body)}catch(e){}e.emit("error",s.error);return e}e.emit("message","Build finalized");e.emit("message","Releasing build to "+n+" ... ");i.release(n,function(t,r){if(t)return e.emit("error",t);e.emit("message","Build released");e.emit("pushed")})})}}},{}],6:[function(e,t,r){t.exports=function(e,t,r){return function(){var n=Object.keys(t).filter(function(e){return!t[e].released}).map(function(e){t[e].path=e;return t[e]});if(n.length)return e.emit("unreleased",n);r()}}},{}],7:[function(e,t,r){(function(t,n){var i=e("jsonparse"),s=e("stream").Stream,o=e("through");r.parse=function(e){var r=new i;var s=o(function(e){if("string"===typeof e){if(t.browser){var i=new Array(e.length);for(var s=0;s<e.length;s++)i[s]=e.charCodeAt(s);e=new Int32Array(i)}else{e=new n(e)}}r.write(e)},function(e){if(e)s.write(e);s.queue(null)});if("string"===typeof e)e=e.split(".").map(function(e){if(e==="*")return true;else if(e==="")return{recurse:true};else return e});var u=0,f;if(!e||!e.length)e=null;r.onValue=function(){if(!this.root&&this.stack.length==1)s.root=this.value;if(!e)return;var t=0;var r=0;while(t<e.length){var n=e[t];var i;r++;if(n&&!n.recurse){i=r===this.stack.length?this:this.stack[r];if(!i)return;if(!a(n,i.key))return;t++}else{t++;var o=e[t];if(!o)return;while(true){i=r===this.stack.length?this:this.stack[r];if(!i)return;if(a(o,i.key)){t++;break}r++}}}if(r!==this.stack.length)return;u++;s.queue(this.value[this.key]);delete this.value[this.key]};r._onToken=r.onToken;r.onToken=function(t,n){r._onToken(t,n);if(this.stack.length===0){if(s.root){if(!e)s.queue(s.root);s.emit("root",s.root,u);u=0;s.root=null}}};r.onError=function(e){s.emit("error",e)};return s};function a(e,t){if("string"===typeof e)return t==e;else if(e&&"function"===typeof e.exec)return e.exec(t);else if("boolean"===typeof e)return e;else if("function"===typeof e)return e(t);return false}r.stringify=function(e,t,r){if(e===false){e="";t="\n";r=""}else if(e==null){e="[\n";t="\n,\n";r="\n]\n"}var n,i=true,s=false;n=o(function(r){s=true;var o=JSON.stringify(r);if(i){i=false;n.queue(e+o)}else n.queue(t+o)},function(t){if(!s)n.queue(e);n.queue(r);n.queue(null)});return n};r.stringifyObject=function(e,t,r){if(e===false){e="";t="\n";r=""}else if(e==null){e="{\n";t="\n,\n";r="\n}\n"}var n=new s,i=true,a=false;n=o(function(r){a=true;var s=JSON.stringify(r[0])+":"+JSON.stringify(r[1]);if(i){i=false;n.queue(e+s)}else n.queue(t+s)},function(t){if(!a)n.queue(e);n.queue(r);n.queue(null)});return n}}).call(this,e("FWaASH"),e("buffer").Buffer)},{FWaASH:21,buffer:11,jsonparse:8,stream:26,through:70}],8:[function(e,t,r){(function(e){var r={};var n=r.LEFT_BRACE=1;var i=r.RIGHT_BRACE=2;var s=r.LEFT_BRACKET=3;var o=r.RIGHT_BRACKET=4;var a=r.COLON=5;var u=r.COMMA=6;var f=r.TRUE=7;var l=r.FALSE=8;var h=r.NULL=9;var c=r.STRING=10;var p=r.NUMBER=11;var d=r.START=17;var v=r.TRUE1=33;var g=r.TRUE2=34;var m=r.TRUE3=35;var y=r.FALSE1=49;var b=r.FALSE2=50;var w=r.FALSE3=51;var _=r.FALSE4=52;var S=r.NULL1=65;var E=r.NULL3=66;var x=r.NULL2=67;var k=r.NUMBER1=81;var A=r.NUMBER2=82;var T=r.NUMBER3=83;var j=r.NUMBER4=84;var q=r.NUMBER5=85;var L=r.NUMBER6=86;var C=r.NUMBER7=87;var R=r.NUMBER8=88;var O=r.STRING1=97;var I=r.STRING2=98;var B=r.STRING3=99;var U=r.STRING4=100;var M=r.STRING5=101;var H=r.STRING6=102;var N=r.VALUE=113;var D=r.KEY=114;var F=r.OBJECT=129;var P=r.ARRAY=130;function z(e){var t=Object.keys(r);for(var n=0,i=t.length;n<i;n++){var s=t[n];if(r[s]===e){return s}}return e&&"0x"+e.toString(16)}function W(){this.tState=d;this.value=undefined;this.string=undefined;this.unicode=undefined;this.negative=undefined;this.magnatude=undefined;this.position=undefined;this.exponent=undefined;this.negativeExponent=undefined;this.key=undefined;this.mode=undefined;this.stack=[];this.state=N;this.bytes_remaining=0;this.bytes_in_sequence=0;this.temp_buffs={2:new e(2),3:new e(3),4:new e(4)}}var G=W.prototype;G.charError=function(e,t){this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+z(this.tState)))};G.onError=function(e){throw e};G.write=function(t){if(typeof t==="string")t=new e(t);var r;for(var N=0,D=t.length;N<D;N++){if(this.tState===d){r=t[N];if(r===123){this.onToken(n,"{")}else if(r===125){this.onToken(i,"}")}else if(r===91){this.onToken(s,"[")}else if(r===93){this.onToken(o,"]")}else if(r===58){this.onToken(a,":")}else if(r===44){this.onToken(u,",")}else if(r===116){this.tState=v}else if(r===102){this.tState=y}else if(r===110){this.tState=S}else if(r===34){this.string="";this.tState=O}else if(r===45){this.negative=true;this.tState=k}else if(r===48){this.magnatude=0;this.tState=A}else{if(r>48&&r<64){this.magnatude=r-48;this.tState=T}else if(r===32||r===9||r===10||r===13){}else{this.charError(t,N)}}}else if(this.tState===O){r=t[N];if(this.bytes_remaining>0){for(var F=0;F<this.bytes_remaining;F++){this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+F]=t[F]}this.string+=this.temp_buffs[this.bytes_in_sequence].toString();this.bytes_in_sequence=this.bytes_remaining=0;N=N+F-1}else if(this.bytes_remaining===0&&r>=128){if(r>=194&&r<=223)this.bytes_in_sequence=2;if(r>=224&&r<=239)this.bytes_in_sequence=3;if(r>=240&&r<=244)this.bytes_in_sequence=4;if(this.bytes_in_sequence+N>t.length){for(var P=0;P<=t.length-1-N;P++){this.temp_buffs[this.bytes_in_sequence][P]=t[N+P]}this.bytes_remaining=N+this.bytes_in_sequence-t.length;N=t.length-1}else{this.string+=t.slice(N,N+this.bytes_in_sequence).toString();N=N+this.bytes_in_sequence-1}}else if(r===34){this.tState=d;this.onToken(c,this.string);this.string=undefined}else if(r===92){this.tState=I}else if(r>=32){this.string+=String.fromCharCode(r)}else{this.charError(t,N)}}else if(this.tState===I){r=t[N];if(r===34){this.string+='"';this.tState=O}else if(r===92){this.string+="\\";this.tState=O}else if(r===47){this.string+="/";this.tState=O}else if(r===98){this.string+="\b";this.tState=O}else if(r===102){this.string+="\f";this.tState=O}else if(r===110){this.string+="\n";this.tState=O}else if(r===114){this.string+="\r";this.tState=O}else if(r===116){this.string+="	";this.tState=O}else if(r===117){this.unicode="";this.tState=B}else{this.charError(t,N)}}else if(this.tState===B||this.tState===U||this.tState===M||this.tState===H){r=t[N];if(r>=48&&r<64||r>64&&r<=70||r>96&&r<=102){this.unicode+=String.fromCharCode(r);if(this.tState++===H){this.string+=String.fromCharCode(parseInt(this.unicode,16));this.unicode=undefined;this.tState=O}}else{this.charError(t,N)}}else if(this.tState===k){r=t[N];if(r===48){this.magnatude=0;this.tState=A}else if(r>48&&r<64){this.magnatude=r-48;this.tState=T}else{this.charError(t,N)}}else if(this.tState===A){r=t[N];if(r===46){this.position=.1;this.tState=j}else if(r===101||r===69){this.exponent=0;this.tState=L}else{this.tState=d;this.onToken(p,0);this.magnatude=undefined;this.negative=undefined;N--}}else if(this.tState===T){r=t[N];if(r===46){this.position=.1;this.tState=j}else if(r===101||r===69){this.exponent=0;this.tState=L}else{if(r>=48&&r<64){this.magnatude=this.magnatude*10+r-48}else{this.tState=d;if(this.negative){this.magnatude=-this.magnatude;this.negative=undefined}this.onToken(p,this.magnatude);this.magnatude=undefined;N--}}}else if(this.tState===j){r=t[N];if(r>=48&&r<64){this.magnatude+=this.position*(r-48);this.position/=10;this.tState=q}else{this.charError(t,N)}}else if(this.tState===q){r=t[N];if(r>=48&&r<64){this.magnatude+=this.position*(r-48);this.position/=10}else if(r===101||r===69){this.exponent=0;this.tState=L}else{this.tState=d;if(this.negative){this.magnatude=-this.magnatude;this.negative=undefined}this.onToken(p,this.negative?-this.magnatude:this.magnatude);this.magnatude=undefined;this.position=undefined;N--}}else if(this.tState===L){r=t[N];if(r===43||r===45){if(r===45){this.negativeExponent=true}this.tState=C}else if(r>=48&&r<64){this.exponent=this.exponent*10+(r-48);this.tState=R}else{this.charError(t,N)}}else if(this.tState===C){r=t[N];if(r>=48&&r<64){this.exponent=this.exponent*10+(r-48);this.tState=R}else{this.charError(t,N)}}else if(this.tState===R){r=t[N];if(r>=48&&r<64){this.exponent=this.exponent*10+(r-48)}else{if(this.negativeExponent){this.exponent=-this.exponent;this.negativeExponent=undefined}this.magnatude*=Math.pow(10,this.exponent);this.exponent=undefined;if(this.negative){this.magnatude=-this.magnatude;this.negative=undefined}this.tState=d;this.onToken(p,this.magnatude);this.magnatude=undefined;N--}}else if(this.tState===v){if(t[N]===114){this.tState=g}else{this.charError(t,N)}}else if(this.tState===g){if(t[N]===117){this.tState=m}else{this.charError(t,N)}}else if(this.tState===m){if(t[N]===101){this.tState=d;this.onToken(f,true)}else{this.charError(t,N)}}else if(this.tState===y){if(t[N]===97){this.tState=b}else{this.charError(t,N)}}else if(this.tState===b){if(t[N]===108){this.tState=w}else{this.charError(t,N)}}else if(this.tState===w){if(t[N]===115){this.tState=_}else{this.charError(t,N)}}else if(this.tState===_){if(t[N]===101){this.tState=d;this.onToken(l,false)}else{this.charError(t,N)}}else if(this.tState===S){if(t[N]===117){this.tState=E}else{this.charError(t,N)}}else if(this.tState===E){if(t[N]===108){this.tState=x}else{this.charError(t,N)}}else if(this.tState===x){if(t[N]===108){this.tState=d;this.onToken(h,null)}else{this.charError(t,N)}}}};G.onToken=function(e,t){};G.parseError=function(e,t){this.onError(new Error("Unexpected "+z(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+z(this.state)))};G.onError=function(e){throw e};G.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})};G.pop=function(){var e=this.value;var t=this.stack.pop();this.value=t.value;this.key=t.key;this.mode=t.mode;this.emit(e);if(!this.mode){this.state=N}};G.emit=function(e){if(this.mode){this.state=u}this.onValue(e)};G.onValue=function(e){};G.onToken=function(e,t){if(this.state===N){if(e===c||e===p||e===f||e===l||e===h){if(this.value){this.value[this.key]=t}this.emit(t)}else if(e===n){this.push();if(this.value){this.value=this.value[this.key]={}}else{this.value={}}this.key=undefined;this.state=D;this.mode=F}else if(e===s){this.push();if(this.value){this.value=this.value[this.key]=[]}else{this.value=[]}this.key=0;this.mode=P;this.state=N}else if(e===i){if(this.mode===F){this.pop()}else{this.parseError(e,t)}}else if(e===o){if(this.mode===P){this.pop()}else{this.parseError(e,t)}}else{this.parseError(e,t)}}else if(this.state===D){if(e===c){this.key=t;this.state=a}else if(e===i){this.pop()}else{this.parseError(e,t)}}else if(this.state===a){if(e===a){this.state=N}else{this.parseError(e,t)}}else if(this.state===u){if(e===u){if(this.mode===P){this.key++;this.state=N}else if(this.mode===F){this.state=D}}else if(e===o&&this.mode===P||e===i&&this.mode===F){this.pop()}else{this.parseError(e,t)}}else{this.parseError(e,t)}};t.exports=W}).call(this,e("buffer").Buffer)},{buffer:11}],9:[function(e,t,r){(function(r){var n=e("through");t.exports=function(e){if(e&&typeof e.pipe==="function")return e;var t=n();t.pause();r.nextTick(t.resume.bind(t));for(var i=0,s=arguments.length;i<s;i++)t.queue(arguments[i]);t.queue(null);return t}}).call(this,e("FWaASH"))},{FWaASH:21,through:70}],10:[function(e,t,r){},{}],11:[function(e,t,r){var n=e("base64-js");var i=e("ieee754");r.Buffer=s;r.SlowBuffer=s;r.INSPECT_MAX_BYTES=50;s.poolSize=8192;s._useTypedArrays=function(){try{var e=new ArrayBuffer(0);var t=new Uint8Array(e);t.foo=function(){return 42};return 42===t.foo()&&typeof t.subarray==="function"}catch(e){return false}}();function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);var n=typeof e;if(t==="base64"&&n==="string"){e=C(e);while(e.length%4!==0){e=e+"="}}var i;if(n==="number")i=O(e);else if(n==="string")i=s.byteLength(e,t);else if(n==="object")i=O(e.length);else throw new Error("First argument needs to be a number, array or string.");var o;if(s._useTypedArrays){o=s._augment(new Uint8Array(i))}else{o=this;o.length=i;o._isBuffer=true}var a;if(s._useTypedArrays&&typeof e.byteLength==="number"){o._set(e)}else if(B(e)){for(a=0;a<i;a++){if(s.isBuffer(e))o[a]=e.readUInt8(a);else o[a]=e[a]}}else if(n==="string"){o.write(e,0,t)}else if(n==="number"&&!s._useTypedArrays&&!r){for(a=0;a<i;a++){o[a]=0}}return o}s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};s.isBuffer=function(e){return!!(e!==null&&e!==undefined&&e._isBuffer)};s.byteLength=function(e,t){var r;e=e.toString();switch(t||"utf8"){case"hex":r=e.length/2;break;case"utf8":case"utf-8":r=M(e).length;break;case"ascii":case"binary":case"raw":r=e.length;break;case"base64":r=D(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=e.length*2;break;default:throw new Error("Unknown encoding")}return r};s.concat=function(e,t){J(I(e),"Usage: Buffer.concat(list[, length])");if(e.length===0){return new s(0)}else if(e.length===1){return e[0]}var r;if(t===undefined){t=0;for(r=0;r<e.length;r++){t+=e[r].length}}var n=new s(t);var i=0;for(r=0;r<e.length;r++){var o=e[r];o.copy(n,i);i+=o.length}return n};s.compare=function(e,t){J(s.isBuffer(e)&&s.isBuffer(t),"Arguments must be Buffers");var r=e.length;var n=t.length;for(var i=0,o=Math.min(r,n);i<o&&e[i]===t[i];i++){}if(i!==o){r=e[i];n=t[i]}if(r<n){return-1}if(n<r){return 1}return 0};function o(e,t,r,n){r=Number(r)||0;var i=e.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}var s=t.length;J(s%2===0,"Invalid hex string");if(n>s/2){n=s/2}for(var o=0;o<n;o++){var a=parseInt(t.substr(o*2,2),16);J(!isNaN(a),"Invalid hex string");e[r+o]=a}return o}function a(e,t,r,n){var i=F(M(t),e,r,n);return i}function u(e,t,r,n){var i=F(H(t),e,r,n);return i}function f(e,t,r,n){return u(e,t,r,n)}function l(e,t,r,n){var i=F(D(t),e,r,n);return i}function h(e,t,r,n){var i=F(N(t),e,r,n);return i}s.prototype.write=function(e,t,r,n){if(isFinite(t)){if(!isFinite(r)){n=r;r=undefined}}else{var i=n;n=t;t=r;r=i}t=Number(t)||0;var s=this.length-t;if(!r){r=s}else{r=Number(r);if(r>s){r=s}}n=String(n||"utf8").toLowerCase();var c;switch(n){case"hex":c=o(this,e,t,r);break;case"utf8":case"utf-8":c=a(this,e,t,r);break;case"ascii":c=u(this,e,t,r);break;case"binary":c=f(this,e,t,r);break;case"base64":c=l(this,e,t,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=h(this,e,t,r);break;default:throw new Error("Unknown encoding")}return c};s.prototype.toString=function(e,t,r){var n=this;e=String(e||"utf8").toLowerCase();t=Number(t)||0;r=r===undefined?n.length:Number(r);if(r===t)return"";var i;switch(e){case"hex":i=g(n,t,r);break;case"utf8":case"utf-8":i=p(n,t,r);break;case"ascii":i=d(n,t,r);break;case"binary":i=v(n,t,r);break;case"base64":i=c(n,t,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=m(n,t,r);break;default:throw new Error("Unknown encoding")}return i};s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};s.prototype.equals=function(e){J(s.isBuffer(e),"Argument must be a Buffer");return s.compare(this,e)===0};s.prototype.compare=function(e){J(s.isBuffer(e),"Argument must be a Buffer");return s.compare(this,e)};s.prototype.copy=function(e,t,r,n){var i=this;if(!r)r=0;if(!n&&n!==0)n=this.length;if(!t)t=0;if(n===r)return;if(e.length===0||i.length===0)return;J(n>=r,"sourceEnd < sourceStart");J(t>=0&&t<e.length,"targetStart out of bounds");J(r>=0&&r<i.length,"sourceStart out of bounds");J(n>=0&&n<=i.length,"sourceEnd out of bounds");if(n>this.length)n=this.length;if(e.length-t<n-r)n=e.length-t+r;var o=n-r;if(o<100||!s._useTypedArrays){for(var a=0;a<o;a++){e[a+t]=this[a+r]}}else{e._set(this.subarray(r,r+o),t)}};function c(e,t,r){if(t===0&&r===e.length){return n.fromByteArray(e)}else{return n.fromByteArray(e.slice(t,r))}}function p(e,t,r){var n="";var i="";r=Math.min(e.length,r);for(var s=t;s<r;s++){if(e[s]<=127){n+=P(i)+String.fromCharCode(e[s]);i=""}else{i+="%"+e[s].toString(16)}}return n+P(i)}function d(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;i++){n+=String.fromCharCode(e[i])}return n}function v(e,t,r){return d(e,t,r)}function g(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var i="";for(var s=t;s<r;s++){i+=U(e[s])}return i}function m(e,t,r){var n=e.slice(t,r);var i="";for(var s=0;s<n.length;s+=2){i+=String.fromCharCode(n[s]+n[s+1]*256)}return i}s.prototype.slice=function(e,t){var r=this.length;e=R(e,r,0);t=R(t,r,r);if(s._useTypedArrays){return s._augment(this.subarray(e,t))}else{var n=t-e;var i=new s(n,undefined,true);for(var o=0;o<n;o++){i[o]=this[o+e]}return i}};s.prototype.get=function(e){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(e)};s.prototype.set=function(e,t){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(e,t)};s.prototype.readUInt8=function(e,t){if(!t){J(e!==undefined&&e!==null,"missing offset");J(e<this.length,"Trying to read beyond buffer length")}if(e>=this.length)return;return this[e]};function y(e,t,r,n){if(!n){J(typeof r==="boolean","missing or invalid endian");J(t!==undefined&&t!==null,"missing offset");J(t+1<e.length,"Trying to read beyond buffer length")}var i=e.length;if(t>=i)return;var s;if(r){s=e[t];if(t+1<i)s|=e[t+1]<<8}else{s=e[t]<<8;if(t+1<i)s|=e[t+1]}return s}s.prototype.readUInt16LE=function(e,t){return y(this,e,true,t)};s.prototype.readUInt16BE=function(e,t){return y(this,e,false,t)};function b(e,t,r,n){if(!n){J(typeof r==="boolean","missing or invalid endian");J(t!==undefined&&t!==null,"missing offset");J(t+3<e.length,"Trying to read beyond buffer length")}var i=e.length;if(t>=i)return;var s;if(r){if(t+2<i)s=e[t+2]<<16;if(t+1<i)s|=e[t+1]<<8;s|=e[t];if(t+3<i)s=s+(e[t+3]<<24>>>0)}else{if(t+1<i)s=e[t+1]<<16;if(t+2<i)s|=e[t+2]<<8;if(t+3<i)s|=e[t+3];s=s+(e[t]<<24>>>0)}return s}s.prototype.readUInt32LE=function(e,t){return b(this,e,true,t)};s.prototype.readUInt32BE=function(e,t){return b(this,e,false,t)};s.prototype.readInt8=function(e,t){if(!t){J(e!==undefined&&e!==null,"missing offset");J(e<this.length,"Trying to read beyond buffer length")}if(e>=this.length)return;var r=this[e]&128;if(r)return(255-this[e]+1)*-1;else return this[e]};function w(e,t,r,n){if(!n){J(typeof r==="boolean","missing or invalid endian");J(t!==undefined&&t!==null,"missing offset");J(t+1<e.length,"Trying to read beyond buffer length")}var i=e.length;if(t>=i)return;var s=y(e,t,r,true);var o=s&32768;if(o)return(65535-s+1)*-1;else return s}s.prototype.readInt16LE=function(e,t){return w(this,e,true,t)};s.prototype.readInt16BE=function(e,t){return w(this,e,false,t)};function _(e,t,r,n){if(!n){J(typeof r==="boolean","missing or invalid endian");J(t!==undefined&&t!==null,"missing offset");J(t+3<e.length,"Trying to read beyond buffer length")}var i=e.length;if(t>=i)return;var s=b(e,t,r,true);var o=s&2147483648;if(o)return(4294967295-s+1)*-1;else return s}s.prototype.readInt32LE=function(e,t){return _(this,e,true,t)};s.prototype.readInt32BE=function(e,t){return _(this,e,false,t)};function S(e,t,r,n){if(!n){J(typeof r==="boolean","missing or invalid endian");J(t+3<e.length,"Trying to read beyond buffer length")}return i.read(e,t,r,23,4)}s.prototype.readFloatLE=function(e,t){return S(this,e,true,t)};s.prototype.readFloatBE=function(e,t){return S(this,e,false,t)};function E(e,t,r,n){if(!n){J(typeof r==="boolean","missing or invalid endian");J(t+7<e.length,"Trying to read beyond buffer length")}return i.read(e,t,r,52,8)}s.prototype.readDoubleLE=function(e,t){return E(this,e,true,t)};s.prototype.readDoubleBE=function(e,t){return E(this,e,false,t)};s.prototype.writeUInt8=function(e,t,r){if(!r){J(e!==undefined&&e!==null,"missing value");J(t!==undefined&&t!==null,"missing offset");J(t<this.length,"trying to write beyond buffer length");z(e,255)}if(t>=this.length)return;this[t]=e;return t+1};function x(e,t,r,n,i){if(!i){J(t!==undefined&&t!==null,"missing value");J(typeof n==="boolean","missing or invalid endian");J(r!==undefined&&r!==null,"missing offset");J(r+1<e.length,"trying to write beyond buffer length");z(t,65535)}var s=e.length;if(r>=s)return;for(var o=0,a=Math.min(s-r,2);o<a;o++){e[r+o]=(t&255<<8*(n?o:1-o))>>>(n?o:1-o)*8}return r+2}s.prototype.writeUInt16LE=function(e,t,r){return x(this,e,t,true,r)};s.prototype.writeUInt16BE=function(e,t,r){return x(this,e,t,false,r)};function k(e,t,r,n,i){if(!i){J(t!==undefined&&t!==null,"missing value");J(typeof n==="boolean","missing or invalid endian");J(r!==undefined&&r!==null,"missing offset");J(r+3<e.length,"trying to write beyond buffer length");z(t,4294967295)}var s=e.length;if(r>=s)return;for(var o=0,a=Math.min(s-r,4);o<a;o++){e[r+o]=t>>>(n?o:3-o)*8&255}return r+4}s.prototype.writeUInt32LE=function(e,t,r){return k(this,e,t,true,r)};s.prototype.writeUInt32BE=function(e,t,r){return k(this,e,t,false,r)};s.prototype.writeInt8=function(e,t,r){if(!r){J(e!==undefined&&e!==null,"missing value");J(t!==undefined&&t!==null,"missing offset");J(t<this.length,"Trying to write beyond buffer length");W(e,127,-128)}if(t>=this.length)return;if(e>=0)this.writeUInt8(e,t,r);else this.writeUInt8(255+e+1,t,r);return t+1};function A(e,t,r,n,i){if(!i){J(t!==undefined&&t!==null,"missing value");J(typeof n==="boolean","missing or invalid endian");J(r!==undefined&&r!==null,"missing offset");J(r+1<e.length,"Trying to write beyond buffer length");W(t,32767,-32768)}var s=e.length;if(r>=s)return;if(t>=0)x(e,t,r,n,i);else x(e,65535+t+1,r,n,i);return r+2}s.prototype.writeInt16LE=function(e,t,r){return A(this,e,t,true,r)};s.prototype.writeInt16BE=function(e,t,r){return A(this,e,t,false,r)};function T(e,t,r,n,i){if(!i){J(t!==undefined&&t!==null,"missing value");J(typeof n==="boolean","missing or invalid endian");J(r!==undefined&&r!==null,"missing offset");J(r+3<e.length,"Trying to write beyond buffer length");W(t,2147483647,-2147483648)}var s=e.length;if(r>=s)return;if(t>=0)k(e,t,r,n,i);else k(e,4294967295+t+1,r,n,i);return r+4}s.prototype.writeInt32LE=function(e,t,r){return T(this,e,t,true,r)};s.prototype.writeInt32BE=function(e,t,r){return T(this,e,t,false,r)};function j(e,t,r,n,s){if(!s){J(t!==undefined&&t!==null,"missing value");J(typeof n==="boolean","missing or invalid endian");J(r!==undefined&&r!==null,"missing offset");J(r+3<e.length,"Trying to write beyond buffer length");G(t,3.4028234663852886e38,-3.4028234663852886e38)}var o=e.length;if(r>=o)return;i.write(e,t,r,n,23,4);return r+4}s.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,true,r)};s.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,false,r)};function q(e,t,r,n,s){if(!s){J(t!==undefined&&t!==null,"missing value");J(typeof n==="boolean","missing or invalid endian");J(r!==undefined&&r!==null,"missing offset");J(r+7<e.length,"Trying to write beyond buffer length");G(t,1.7976931348623157e308,-1.7976931348623157e308)}var o=e.length;if(r>=o)return;i.write(e,t,r,n,52,8);return r+8}s.prototype.writeDoubleLE=function(e,t,r){return q(this,e,t,true,r)};s.prototype.writeDoubleBE=function(e,t,r){return q(this,e,t,false,r)};s.prototype.fill=function(e,t,r){if(!e)e=0;if(!t)t=0;if(!r)r=this.length;J(r>=t,"end < start");if(r===t)return;if(this.length===0)return;J(t>=0&&t<this.length,"start out of bounds");J(r>=0&&r<=this.length,"end out of bounds");var n;if(typeof e==="number"){for(n=t;n<r;n++){this[n]=e}}else{var i=M(e.toString());var s=i.length;for(n=t;n<r;n++){this[n]=i[n%s]}}return this};s.prototype.inspect=function(){var e=[];var t=this.length;for(var n=0;n<t;n++){e[n]=U(this[n]);if(n===r.INSPECT_MAX_BYTES){e[n+1]="...";break}}return"<Buffer "+e.join(" ")+">"};s.prototype.toArrayBuffer=function(){if(typeof Uint8Array!=="undefined"){if(s._useTypedArrays){return new s(this).buffer}else{var e=new Uint8Array(this.length);for(var t=0,r=e.length;t<r;t+=1){e[t]=this[t]}return e.buffer}}else{throw new Error("Buffer.toArrayBuffer not supported in this browser")}};var L=s.prototype;s._augment=function(e){e._isBuffer=true;e._get=e.get;e._set=e.set;e.get=L.get;e.set=L.set;e.write=L.write;e.toString=L.toString;e.toLocaleString=L.toString;e.toJSON=L.toJSON;e.equals=L.equals;e.compare=L.compare;e.copy=L.copy;e.slice=L.slice;e.readUInt8=L.readUInt8;e.readUInt16LE=L.readUInt16LE;e.readUInt16BE=L.readUInt16BE;e.readUInt32LE=L.readUInt32LE;e.readUInt32BE=L.readUInt32BE;e.readInt8=L.readInt8;e.readInt16LE=L.readInt16LE;e.readInt16BE=L.readInt16BE;e.readInt32LE=L.readInt32LE;e.readInt32BE=L.readInt32BE;e.readFloatLE=L.readFloatLE;e.readFloatBE=L.readFloatBE;e.readDoubleLE=L.readDoubleLE;e.readDoubleBE=L.readDoubleBE;e.writeUInt8=L.writeUInt8;e.writeUInt16LE=L.writeUInt16LE;e.writeUInt16BE=L.writeUInt16BE;e.writeUInt32LE=L.writeUInt32LE;e.writeUInt32BE=L.writeUInt32BE;e.writeInt8=L.writeInt8;e.writeInt16LE=L.writeInt16LE;e.writeInt16BE=L.writeInt16BE;e.writeInt32LE=L.writeInt32LE;e.writeInt32BE=L.writeInt32BE;e.writeFloatLE=L.writeFloatLE;e.writeFloatBE=L.writeFloatBE;e.writeDoubleLE=L.writeDoubleLE;e.writeDoubleBE=L.writeDoubleBE;e.fill=L.fill;e.inspect=L.inspect;e.toArrayBuffer=L.toArrayBuffer;return e};function C(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function R(e,t,r){if(typeof e!=="number")return r;e=~~e;if(e>=t)return t;if(e>=0)return e;e+=t;if(e>=0)return e;return 0}function O(e){e=~~Math.ceil(+e);return e<0?0:e}function I(e){return(Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"})(e)}function B(e){return I(e)||s.isBuffer(e)||e&&typeof e==="object"&&typeof e.length==="number"}function U(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function M(e){var t=[];for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n<=127){t.push(n)}else{var i=r;if(n>=55296&&n<=57343)r++;var s=encodeURIComponent(e.slice(i,r+1)).substr(1).split("%");for(var o=0;o<s.length;o++){t.push(parseInt(s[o],16))}}}return t}function H(e){var t=[];for(var r=0;r<e.length;r++){t.push(e.charCodeAt(r)&255)}return t}function N(e){var t,r,n;var i=[];for(var s=0;s<e.length;s++){t=e.charCodeAt(s);r=t>>8;n=t%256;i.push(n);i.push(r)}return i}function D(e){return n.toByteArray(e)}function F(e,t,r,n){for(var i=0;i<n;i++){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function P(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function z(e,t){J(typeof e==="number","cannot write a non-number as a number");J(e>=0,"specified a negative value for writing an unsigned value");
J(e<=t,"value is larger than maximum value for type");J(Math.floor(e)===e,"value has a fractional component")}function W(e,t,r){J(typeof e==="number","cannot write a non-number as a number");J(e<=t,"value larger than maximum allowed value");J(e>=r,"value smaller than minimum allowed value");J(Math.floor(e)===e,"value has a fractional component")}function G(e,t,r){J(typeof e==="number","cannot write a non-number as a number");J(e<=t,"value larger than maximum allowed value");J(e>=r,"value smaller than minimum allowed value")}function J(e,t){if(!e)throw new Error(t||"Failed assertion")}},{"base64-js":12,ieee754:13}],12:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";var r=typeof Uint8Array!=="undefined"?Uint8Array:Array;var i="0".charCodeAt(0);var s="+".charCodeAt(0);var o="/".charCodeAt(0);var a="0".charCodeAt(0);var u="a".charCodeAt(0);var f="A".charCodeAt(0);function l(e){var t=e.charCodeAt(0);if(t===s)return 62;if(t===o)return 63;if(t<a)return-1;if(t<a+10)return t-a+26+26;if(t<f+26)return t-f;if(t<u+26)return t-u+26}function h(e){var t,n,i,s,o,a;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var u=e.length;o="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0;a=new r(e.length*3/4-o);i=o>0?e.length-4:e.length;var f=0;function h(e){a[f++]=e}for(t=0,n=0;t<i;t+=4,n+=3){s=l(e.charAt(t))<<18|l(e.charAt(t+1))<<12|l(e.charAt(t+2))<<6|l(e.charAt(t+3));h((s&16711680)>>16);h((s&65280)>>8);h(s&255)}if(o===2){s=l(e.charAt(t))<<2|l(e.charAt(t+1))>>4;h(s&255)}else if(o===1){s=l(e.charAt(t))<<10|l(e.charAt(t+1))<<4|l(e.charAt(t+2))>>2;h(s>>8&255);h(s&255)}return a}function c(e){var t,r=e.length%3,i="",s,o;function a(e){return n.charAt(e)}function u(e){return a(e>>18&63)+a(e>>12&63)+a(e>>6&63)+a(e&63)}for(t=0,o=e.length-r;t<o;t+=3){s=(e[t]<<16)+(e[t+1]<<8)+e[t+2];i+=u(s)}switch(r){case 1:s=e[e.length-1];i+=a(s>>2);i+=a(s<<4&63);i+="==";break;case 2:s=(e[e.length-2]<<8)+e[e.length-1];i+=a(s>>10);i+=a(s>>4&63);i+=a(s<<2&63);i+="=";break}return i}t.exports.toByteArray=h;t.exports.fromByteArray=c})()},{}],13:[function(e,t,r){r.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,f=u>>1,l=-7,h=r?i-1:0,c=r?-1:1,p=e[t+h];h+=c;s=p&(1<<-l)-1;p>>=-l;l+=a;for(;l>0;s=s*256+e[t+h],h+=c,l-=8);o=s&(1<<-l)-1;s>>=-l;l+=n;for(;l>0;o=o*256+e[t+h],h+=c,l-=8);if(s===0){s=1-f}else if(s===u){return o?NaN:(p?-1:1)*Infinity}else{o=o+Math.pow(2,n);s=s-f}return(p?-1:1)*o*Math.pow(2,s-n)};r.write=function(e,t,r,n,i,s){var o,a,u,f=s*8-i-1,l=(1<<f)-1,h=l>>1,c=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,d=n?1:-1,v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;o=l}else{o=Math.floor(Math.log(t)/Math.LN2);if(t*(u=Math.pow(2,-o))<1){o--;u*=2}if(o+h>=1){t+=c/u}else{t+=c*Math.pow(2,1-h)}if(t*u>=2){o++;u/=2}if(o+h>=l){a=0;o=l}else if(o+h>=1){a=(t*u-1)*Math.pow(2,i);o=o+h}else{a=t*Math.pow(2,h-1)*Math.pow(2,i);o=0}}for(;i>=8;e[r+p]=a&255,p+=d,a/=256,i-=8);o=o<<i|a;f+=i;for(;f>0;e[r+p]=o&255,p+=d,o/=256,f-=8);e[r+p-d]|=v*128}},{}],14:[function(e,t,r){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=n;n.EventEmitter=n;n.prototype._events=undefined;n.prototype._maxListeners=undefined;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,s,u,f;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}else{throw TypeError('Uncaught, unspecified "error" event.')}return false}}r=this._events[e];if(a(r))return false;if(i(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=arguments.length;s=new Array(n-1);for(u=1;u<n;u++)s[u-1]=arguments[u];r.apply(this,s)}}else if(o(r)){n=arguments.length;s=new Array(n-1);for(u=1;u<n;u++)s[u-1]=arguments[u];f=r.slice();n=f.length;for(u=0;u<n;u++)f[u].apply(this,s)}return true};n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,i(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){var r;if(!a(this._maxListeners)){r=this._maxListeners}else{r=n.defaultMaxListeners}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=false;function n(){this.removeListener(e,n);if(!r){r=true;t.apply(this,arguments)}}n.listener=t;this.on(e,n);return this};n.prototype.removeListener=function(e,t){var r,n,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];s=r.length;n=-1;if(r===t||i(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(r)){for(a=s;a-->0;){if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}}if(n<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(n,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(i(r)){this.removeListener(e,r)}else{while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};n.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(i(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};n.listenerCount=function(e,t){var r;if(!e._events||!e._events[t])r=0;else if(i(e._events[t]))r=1;else r=e._events[t].length;return r};function i(e){return typeof e==="function"}function s(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function a(e){return e===void 0}},{}],15:[function(e,t,r){var n=t.exports;var i=e("events").EventEmitter;var s=e("./lib/request");var o=e("url");n.request=function(e,t){if(typeof e==="string"){e=o.parse(e)}if(!e)e={};if(!e.host&&!e.port){e.port=parseInt(window.location.port,10)}if(!e.host&&e.hostname){e.host=e.hostname}if(!e.scheme)e.scheme=window.location.protocol.split(":")[0];if(!e.host){e.host=window.location.hostname||window.location.host}if(/:/.test(e.host)){if(!e.port){e.port=e.host.split(":")[1]}e.host=e.host.split(":")[0]}if(!e.port)e.port=e.scheme=="https"?443:80;var r=new s(new a,e);if(t)r.on("response",t);return r};n.get=function(e,t){e.method="GET";var r=n.request(e,t);r.end();return r};n.Agent=function(){};n.Agent.defaultMaxSockets=4;var a=function(){if(typeof window==="undefined"){throw new Error("no window object present")}else if(window.XMLHttpRequest){return window.XMLHttpRequest}else if(window.ActiveXObject){var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];for(var t=0;t<e.length;t++){try{var r=new window.ActiveXObject(e[t]);return function(){if(r){var n=r;r=null;return n}else{return new window.ActiveXObject(e[t])}}}catch(e){}}throw new Error("ajax not supported in this browser")}else{throw new Error("ajax not supported in this browser")}}();n.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":16,events:14,url:27}],16:[function(e,t,r){var n=e("stream");var i=e("./response");var s=e("Base64");var o=e("inherits");var a=t.exports=function(e,t){var r=this;r.writable=true;r.xhr=e;r.body=[];r.uri=(t.scheme||"http")+"://"+t.host+(t.port?":"+t.port:"")+(t.path||"/");if(typeof t.withCredentials==="undefined"){t.withCredentials=true}try{e.withCredentials=t.withCredentials}catch(e){}e.open(t.method||"GET",r.uri,true);r._headers={};if(t.headers){var n=u(t.headers);for(var o=0;o<n.length;o++){var a=n[o];if(!r.isSafeRequestHeader(a))continue;var f=t.headers[a];r.setHeader(a,f)}}if(t.auth){this.setHeader("Authorization","Basic "+s.btoa(t.auth))}var l=new i;l.on("close",function(){r.emit("close")});l.on("ready",function(){r.emit("response",l)});e.onreadystatechange=function(){if(e.__aborted)return;l.handle(e)}};o(a,n);a.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t};a.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]};a.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]};a.prototype.write=function(e){this.body.push(e)};a.prototype.destroy=function(e){this.xhr.__aborted=true;this.xhr.abort();this.emit("close")};a.prototype.end=function(e){if(e!==undefined)this.body.push(e);var t=u(this._headers);for(var r=0;r<t.length;r++){var n=t[r];var i=this._headers[n];if(f(i)){for(var s=0;s<i.length;s++){this.xhr.setRequestHeader(n,i[s])}}else this.xhr.setRequestHeader(n,i)}if(this.body.length===0){this.xhr.send("")}else if(typeof this.body[0]==="string"){this.xhr.send(this.body.join(""))}else if(f(this.body[0])){var o=[];for(var r=0;r<this.body.length;r++){o.push.apply(o,this.body[r])}this.xhr.send(o)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){var a=0;for(var r=0;r<this.body.length;r++){a+=this.body[r].length}var o=new this.body[0].constructor(a);var l=0;for(var r=0;r<this.body.length;r++){var h=this.body[r];for(var s=0;s<h.length;s++){o[l++]=h[s]}}this.xhr.send(o)}else{var o="";for(var r=0;r<this.body.length;r++){o+=this.body[r].toString()}this.xhr.send(o)}};a.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];a.prototype.isSafeRequestHeader=function(e){if(!e)return false;return l(a.unsafeHeaders,e.toLowerCase())===-1};var u=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};var f=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var l=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++){if(e[r]===t)return r}return-1}},{"./response":17,Base64:18,inherits:20,stream:26}],17:[function(e,t,r){var n=e("stream");var i=e("util");var s=t.exports=function(e){this.offset=0;this.readable=true};i.inherits(s,n);var o={streaming:true,status2:true};function a(e){var t=e.getAllResponseHeaders().split(/\r?\n/);var r={};for(var n=0;n<t.length;n++){var i=t[n];if(i==="")continue;var s=i.match(/^([^:]+):\s*(.*)/);if(s){var o=s[1].toLowerCase(),a=s[2];if(r[o]!==undefined){if(u(r[o])){r[o].push(a)}else{r[o]=[r[o],a]}}else{r[o]=a}}else{r[i]=true}}return r}s.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();if(t==="blob")return e.responseBlob||e.response;if(t==="arraybuffer")return e.response;return e.responseText};s.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]};s.prototype.handle=function(e){if(e.readyState===2&&o.status2){try{this.statusCode=e.status;this.headers=a(e)}catch(e){o.status2=false}if(o.status2){this.emit("ready")}}else if(o.streaming&&e.readyState===3){try{if(!this.statusCode){this.statusCode=e.status;this.headers=a(e);this.emit("ready")}}catch(e){}try{this._emitData(e)}catch(e){o.streaming=false}}else if(e.readyState===4){if(!this.statusCode){this.statusCode=e.status;this.emit("ready")}this._emitData(e);if(e.error){this.emit("error",this.getResponse(e))}else this.emit("end");this.emit("close")}};s.prototype._emitData=function(e){var t=this.getResponse(e);if(t.toString().match(/ArrayBuffer/)){this.emit("data",new Uint8Array(t,this.offset));this.offset=t.byteLength;return}if(t.length>this.offset){this.emit("data",t.slice(this.offset));this.offset=t.length}};var u=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{stream:26,util:29}],18:[function(e,t,r){(function(){var e=typeof r!="undefined"?r:this;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}n.prototype=new Error;n.prototype.name="InvalidCharacterError";e.btoa||(e.btoa=function(e){for(var r,i,s=0,o=t,a="";e.charAt(s|0)||(o="=",s%1);a+=o.charAt(63&r>>8-s%1*8)){i=e.charCodeAt(s+=3/4);if(i>255){throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.")}r=r<<8|i}return a});e.atob||(e.atob=function(e){e=e.replace(/=+$/,"");if(e.length%4==1){throw new n("'atob' failed: The string to be decoded is not correctly encoded.")}for(var r=0,i,s,o=0,a="";s=e.charAt(o++);~s&&(i=r%4?i*64+s:s,r++%4)?a+=String.fromCharCode(255&i>>(-2*r&6)):0){s=t.indexOf(s)}return a})})()},{}],19:[function(e,t,r){var n=e("http");var i=t.exports;for(var s in n){if(n.hasOwnProperty(s))i[s]=n[s]}i.request=function(e,t){if(!e)e={};e.scheme="https";return n.request.call(this,e,t)}},{http:15}],20:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function e(t,r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}},{}],21:[function(e,t,r){var n=t.exports={};n.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}if(t){var r=[];window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(r.length>0){var n=r.shift();n()}}},true);return function e(t){r.push(t);window.postMessage("process-tick","*")}}return function e(t){setTimeout(t,0)}}();n.title="browser";n.browser=true;n.env={};n.argv=[];function i(){}n.on=i;n.addListener=i;n.once=i;n.off=i;n.removeListener=i;n.removeAllListeners=i;n.emit=i;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],22:[function(e,t,r){(function(e){(function(n){var i=typeof r=="object"&&r;var s=typeof t=="object"&&t&&t.exports==i&&t;var o=typeof e=="object"&&e;if(o.global===o||o.window===o){n=o}var a,u=2147483647,f=36,l=1,h=26,c=38,p=700,d=72,v=128,g="-",m=/^xn--/,y=/[^ -~]/,b=/\x2E|\u3002|\uFF0E|\uFF61/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=f-l,S=Math.floor,E=String.fromCharCode,x;function k(e){throw RangeError(w[e])}function A(e,t){var r=e.length;while(r--){e[r]=t(e[r])}return e}function T(e,t){return A(e.split(b),t).join(".")}function j(e){var t=[],r=0,n=e.length,i,s;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){s=e.charCodeAt(r++);if((s&64512)==56320){t.push(((i&1023)<<10)+(s&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function q(e){return A(e,function(e){var t="";if(e>65535){e-=65536;t+=E(e>>>10&1023|55296);e=56320|e&1023}t+=E(e);return t}).join("")}function L(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return f}function C(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function R(e,t,r){var n=0;e=r?S(e/p):e>>1;e+=S(e/t);for(;e>_*h>>1;n+=f){e=S(e/_)}return S(n+(_+1)*e/(e+c))}function O(e){var t=[],r=e.length,n,i=0,s=v,o=d,a,c,p,m,y,b,w,_,E;a=e.lastIndexOf(g);if(a<0){a=0}for(c=0;c<a;++c){if(e.charCodeAt(c)>=128){k("not-basic")}t.push(e.charCodeAt(c))}for(p=a>0?a+1:0;p<r;){for(m=i,y=1,b=f;;b+=f){if(p>=r){k("invalid-input")}w=L(e.charCodeAt(p++));if(w>=f||w>S((u-i)/y)){k("overflow")}i+=w*y;_=b<=o?l:b>=o+h?h:b-o;if(w<_){break}E=f-_;if(y>S(u/E)){k("overflow")}y*=E}n=t.length+1;o=R(i-m,n,m==0);if(S(i/n)>u-s){k("overflow")}s+=S(i/n);i%=n;t.splice(i++,0,s)}return q(t)}function I(e){var t,r,n,i,s,o,a,c,p,m,y,b=[],w,_,x,A;e=j(e);w=e.length;t=v;r=0;s=d;for(o=0;o<w;++o){y=e[o];if(y<128){b.push(E(y))}}n=i=b.length;if(i){b.push(g)}while(n<w){for(a=u,o=0;o<w;++o){y=e[o];if(y>=t&&y<a){a=y}}_=n+1;if(a-t>S((u-r)/_)){k("overflow")}r+=(a-t)*_;t=a;for(o=0;o<w;++o){y=e[o];if(y<t&&++r>u){k("overflow")}if(y==t){for(c=r,p=f;;p+=f){m=p<=s?l:p>=s+h?h:p-s;if(c<m){break}A=c-m;x=f-m;b.push(E(C(m+A%x,0)));c=S(A/x)}b.push(E(C(c,0)));s=R(r,_,n==i);r=0;++n}}++r;++t}return b.join("")}function B(e){return T(e,function(e){return m.test(e)?O(e.slice(4).toLowerCase()):e})}function U(e){return T(e,function(e){return y.test(e)?"xn--"+I(e):e})}a={version:"1.2.4",ucs2:{decode:j,encode:q},decode:O,encode:I,toASCII:U,toUnicode:B};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return a})}else if(i&&!i.nodeType){if(s){s.exports=a}else{for(x in a){a.hasOwnProperty(x)&&(i[x]=a[x])}}}else{n.punycode=a}})(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],23:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,s){t=t||"&";r=r||"=";var o={};if(typeof e!=="string"||e.length===0){return o}var a=/\+/g;e=e.split(t);var u=1e3;if(s&&typeof s.maxKeys==="number"){u=s.maxKeys}var f=e.length;if(u>0&&f>u){f=u}for(var l=0;l<f;++l){var h=e[l].replace(a,"%20"),c=h.indexOf(r),p,d,v,g;if(c>=0){p=h.substr(0,c);d=h.substr(c+1)}else{p=h;d=""}v=decodeURIComponent(p);g=decodeURIComponent(d);if(!n(o,v)){o[v]=g}else if(i(o[v])){o[v].push(g)}else{o[v]=[o[v],g]}}return o};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],24:[function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,a){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return s(o(e),function(s){var o=encodeURIComponent(n(s))+r;if(i(e[s])){return e[s].map(function(e){return o+encodeURIComponent(n(e))}).join(t)}else{return o+encodeURIComponent(n(e[s]))}}).join(t)}if(!a)return"";return encodeURIComponent(n(a))+r+encodeURIComponent(n(e))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function s(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var o=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},{}],25:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode");r.encode=r.stringify=e("./encode")},{"./decode":23,"./encode":24}],26:[function(e,t,r){t.exports=s;var n=e("events").EventEmitter;var i=e("inherits");i(s,n);s.Readable=e("readable-stream/readable.js");s.Writable=e("readable-stream/writable.js");s.Duplex=e("readable-stream/duplex.js");s.Transform=e("readable-stream/transform.js");s.PassThrough=e("readable-stream/passthrough.js");s.Stream=s;function s(){n.call(this)}s.prototype.pipe=function(e,t){var r=this;function i(t){if(e.writable){if(false===e.write(t)&&r.pause){r.pause()}}}r.on("data",i);function s(){if(r.readable&&r.resume){r.resume()}}e.on("drain",s);if(!e._isStdio&&(!t||t.end!==false)){r.on("end",a);r.on("close",u)}var o=false;function a(){if(o)return;o=true;e.end()}function u(){if(o)return;o=true;if(typeof e.destroy==="function")e.destroy()}function f(e){l();if(n.listenerCount(this,"error")===0){throw e}}r.on("error",f);e.on("error",f);function l(){r.removeListener("data",i);e.removeListener("drain",s);r.removeListener("end",a);r.removeListener("close",u);r.removeListener("error",f);e.removeListener("error",f);r.removeListener("end",l);r.removeListener("close",l);e.removeListener("close",l)}r.on("end",l);r.on("close",l);e.on("close",l);e.emit("pipe",r);return e}},{events:14,inherits:20,"readable-stream/duplex.js":56,"readable-stream/passthrough.js":66,"readable-stream/readable.js":67,"readable-stream/transform.js":68,"readable-stream/writable.js":69}],27:[function(e,t,r){var n=e("punycode");r.parse=b;r.resolve=_;r.resolveObject=S;r.format=w;r.Url=i;function i(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,a=["<",">",'"',"`"," ","\r","\n","	"],u=["{","}","|","\\","^","`"].concat(a),f=["'"].concat(u),l=["%","/","?",";","#"].concat(f),h=["/","?","#"],c=255,p=/^[a-z0-9A-Z_-]{0,63}$/,d=/^([a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:true,"javascript:":true},g={javascript:true,"javascript:":true},m={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},y=e("querystring");function b(e,t,r){if(e&&x(e)&&e instanceof i)return e;var n=new i;n.parse(e,t,r);return n}i.prototype.parse=function(e,t,r){if(!E(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var i=e;i=i.trim();var o=s.exec(i);if(o){o=o[0];var a=o.toLowerCase();this.protocol=a;i=i.substr(o.length)}if(r||o||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=i.substr(0,2)==="//";if(u&&!(o&&g[o])){i=i.substr(2);this.slashes=true}}if(!g[o]&&(u||o&&!m[o])){var b=-1;for(var w=0;w<h.length;w++){var _=i.indexOf(h[w]);if(_!==-1&&(b===-1||_<b))b=_}var S,x;if(b===-1){x=i.lastIndexOf("@")}else{x=i.lastIndexOf("@",b)}if(x!==-1){S=i.slice(0,x);i=i.slice(x+1);this.auth=decodeURIComponent(S)}b=-1;for(var w=0;w<l.length;w++){var _=i.indexOf(l[w]);if(_!==-1&&(b===-1||_<b))b=_}if(b===-1)b=i.length;this.host=i.slice(0,b);i=i.slice(b);this.parseHost();this.hostname=this.hostname||"";var k=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!k){var A=this.hostname.split(/\./);for(var w=0,T=A.length;w<T;w++){var j=A[w];if(!j)continue;if(!j.match(p)){var q="";for(var L=0,C=j.length;L<C;L++){if(j.charCodeAt(L)>127){q+="x"}else{q+=j[L]}}if(!q.match(p)){var R=A.slice(0,w);var O=A.slice(w+1);var I=j.match(d);if(I){R.push(I[1]);O.unshift(I[2])}if(O.length){i="/"+O.join(".")+i}this.hostname=R.join(".");break}}}}if(this.hostname.length>c){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!k){var B=this.hostname.split(".");var U=[];for(var w=0;w<B.length;++w){var M=B[w];U.push(M.match(/[^A-Za-z0-9_-]/)?"xn--"+n.encode(M):M)}this.hostname=U.join(".")}var H=this.port?":"+this.port:"";var N=this.hostname||"";this.host=N+H;this.href+=this.host;if(k){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(i[0]!=="/"){i="/"+i}}}if(!v[a]){for(var w=0,T=f.length;w<T;w++){var D=f[w];var F=encodeURIComponent(D);if(F===D){F=escape(D)}i=i.split(D).join(F)}}var P=i.indexOf("#");if(P!==-1){this.hash=i.substr(P);i=i.slice(0,P)}var z=i.indexOf("?");if(z!==-1){this.search=i.substr(z);this.query=i.substr(z+1);if(t){this.query=y.parse(this.query)}i=i.slice(0,z)}else if(t){this.search="";this.query={}}if(i)this.pathname=i;if(m[a]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var H=this.pathname||"";var M=this.search||"";this.path=H+M}this.href=this.format();return this};function w(e){if(E(e))e=b(e);if(!(e instanceof i))return i.prototype.format.call(e);return e.format()}i.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=false,s="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&x(this.query)&&Object.keys(this.query).length){s=y.stringify(this.query)}var o=this.search||s&&"?"+s||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||m[t])&&i!==false){i="//"+(i||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!i){i=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(o&&o.charAt(0)!=="?")o="?"+o;r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)});o=o.replace("#","%23");return t+i+r+o+n};function _(e,t){return b(e,false,true).resolve(t)}i.prototype.resolve=function(e){return this.resolveObject(b(e,false,true)).format()};function S(e,t){if(!e)return t;return b(e,false,true).resolveObject(t)}i.prototype.resolveObject=function(e){if(E(e)){var t=new i;t.parse(e,false,true);e=t}var r=new i;Object.keys(this).forEach(function(e){r[e]=this[e]},this);r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){Object.keys(e).forEach(function(t){if(t!=="protocol")r[t]=e[t]});if(m[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){Object.keys(e).forEach(function(t){r[t]=e[t]});r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!g[e.protocol]){var n=(e.pathname||"").split("/");while(n.length&&!(e.host=n.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(n[0]!=="")n.unshift("");if(n.length<2)n.unshift("");r.pathname=n.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var s=r.pathname||"";var o=r.search||"";r.path=s+o}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var a=r.pathname&&r.pathname.charAt(0)==="/",u=e.host||e.pathname&&e.pathname.charAt(0)==="/",f=u||a||r.host&&e.pathname,l=f,h=r.pathname&&r.pathname.split("/")||[],n=e.pathname&&e.pathname.split("/")||[],c=r.protocol&&!m[r.protocol];if(c){r.hostname="";r.port=null;if(r.host){if(h[0]==="")h[0]=r.host;else h.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(n[0]==="")n[0]=e.host;else n.unshift(e.host)}e.host=null}f=f&&(n[0]===""||h[0]==="")}if(u){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;h=n}else if(n.length){if(!h)h=[];h.pop();h=h.concat(n);r.search=e.search;r.query=e.query}else if(!A(e.search)){if(c){r.hostname=r.host=h.shift();var p=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(p){r.auth=p.shift();r.host=r.hostname=p.shift()}}r.search=e.search;r.query=e.query;if(!k(r.pathname)||!k(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!h.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var d=h.slice(-1)[0];var v=(r.host||e.host)&&(d==="."||d==="..")||d==="";var y=0;for(var b=h.length;b>=0;b--){d=h[b];if(d=="."){h.splice(b,1)}else if(d===".."){h.splice(b,1);y++}else if(y){h.splice(b,1);y--}}if(!f&&!l){for(;y--;y){h.unshift("..")}}if(f&&h[0]!==""&&(!h[0]||h[0].charAt(0)!=="/")){h.unshift("")}if(v&&h.join("/").substr(-1)!=="/"){h.push("")}var w=h[0]===""||h[0]&&h[0].charAt(0)==="/";if(c){r.hostname=r.host=w?"":h.length?h.shift():"";var p=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(p){r.auth=p.shift();r.host=r.hostname=p.shift()}}f=f||r.host&&h.length;if(f&&!w){h.unshift("")}if(!h.length){r.pathname=null;r.path=null}else{r.pathname=h.join("/")}if(!k(r.pathname)||!k(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};i.prototype.parseHost=function(){var e=this.host;var t=o.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e};function E(e){return typeof e==="string"}function x(e){return typeof e==="object"&&e!==null}function k(e){return e===null}function A(e){return e==null}},{punycode:22,querystring:25}],28:[function(e,t,r){t.exports=function e(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},{}],29:[function(e,t,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!S(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(a(arguments[r]))}return t.join(" ")}var r=1;var n=arguments;var s=n.length;var o=String(e).replace(i,function(e){if(e==="%%")return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}});for(var u=n[r];r<s;u=n[++r]){if(b(u)||!A(u)){o+=" "+u}else{o+=" "+a(u)}}return o};r.deprecate=function(e,i){if(x(n.process)){return function(){return r.deprecate(e,i).apply(this,arguments)}}if(t.noDeprecation===true){return e}var s=false;function o(){if(!s){if(t.throwDeprecation){throw new Error(i)}else if(t.traceDeprecation){console.trace(i)}else{console.error(i)}s=true}return e.apply(this,arguments)}return o};var s={};var o;r.debuglog=function(e){if(x(o))o=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!s[e]){if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;s[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else{s[e]=function(){}}}return s[e]};function a(e,t){var n={seen:[],stylize:f};if(arguments.length>=3)n.depth=arguments[2];if(arguments.length>=4)n.colors=arguments[3];if(y(t)){n.showHidden=t}else if(t){r._extend(n,t)}if(x(n.showHidden))n.showHidden=false;if(x(n.depth))n.depth=2;if(x(n.colors))n.colors=false;if(x(n.customInspect))n.customInspect=true;if(n.colors)n.stylize=u;return h(n,e,n.depth)}r.inspect=a;a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(e,t){var r=a.styles[t];if(r){return"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m"}else{return e}}function f(e,t){return e}function l(e){var t={};e.forEach(function(e,r){t[e]=true});return t}function h(e,t,n){if(e.customInspect&&t&&q(t.inspect)&&t.inspect!==r.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(n,e);if(!S(i)){i=h(e,i,n)}return i}var s=c(e,t);if(s){return s}var o=Object.keys(t);var a=l(o);if(e.showHidden){o=Object.getOwnPropertyNames(t)
}if(j(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return p(t)}if(o.length===0){if(q(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(k(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(T(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(j(t)){return p(t)}}var f="",y=false,b=["{","}"];if(m(t)){y=true;b=["[","]"]}if(q(t)){var w=t.name?": "+t.name:"";f=" [Function"+w+"]"}if(k(t)){f=" "+RegExp.prototype.toString.call(t)}if(T(t)){f=" "+Date.prototype.toUTCString.call(t)}if(j(t)){f=" "+p(t)}if(o.length===0&&(!y||t.length==0)){return b[0]+f+b[1]}if(n<0){if(k(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var _;if(y){_=d(e,t,n,a,o)}else{_=o.map(function(r){return v(e,t,n,a,r,y)})}e.seen.pop();return g(_,f,b)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(S(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(_(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i){var s=[];for(var o=0,a=t.length;o<a;++o){if(B(t,String(o))){s.push(v(e,t,r,n,String(o),true))}else{s.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){s.push(v(e,t,r,n,i,true))}});return s}function v(e,t,r,n,i,s){var o,a,u;u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(u.get){if(u.set){a=e.stylize("[Getter/Setter]","special")}else{a=e.stylize("[Getter]","special")}}else{if(u.set){a=e.stylize("[Setter]","special")}}if(!B(n,i)){o="["+i+"]"}if(!a){if(e.seen.indexOf(u.value)<0){if(b(r)){a=h(e,u.value,null)}else{a=h(e,u.value,r-1)}if(a.indexOf("\n")>-1){if(s){a=a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{a="\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{a=e.stylize("[Circular]","special")}}if(x(o)){if(s&&i.match(/^\d+$/)){return a}o=JSON.stringify(""+i);if(o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){o=o.substr(1,o.length-2);o=e.stylize(o,"name")}else{o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");o=e.stylize(o,"string")}}return o+": "+a}function g(e,t,r){var n=0;var i=e.reduce(function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function m(e){return Array.isArray(e)}r.isArray=m;function y(e){return typeof e==="boolean"}r.isBoolean=y;function b(e){return e===null}r.isNull=b;function w(e){return e==null}r.isNullOrUndefined=w;function _(e){return typeof e==="number"}r.isNumber=_;function S(e){return typeof e==="string"}r.isString=S;function E(e){return typeof e==="symbol"}r.isSymbol=E;function x(e){return e===void 0}r.isUndefined=x;function k(e){return A(e)&&C(e)==="[object RegExp]"}r.isRegExp=k;function A(e){return typeof e==="object"&&e!==null}r.isObject=A;function T(e){return A(e)&&C(e)==="[object Date]"}r.isDate=T;function j(e){return A(e)&&(C(e)==="[object Error]"||e instanceof Error)}r.isError=j;function q(e){return typeof e==="function"}r.isFunction=q;function L(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=L;r.isBuffer=e("./support/isBuffer");function C(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var e=new Date;var t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}r.log=function(){console.log("%s - %s",I(),r.format.apply(r,arguments))};r.inherits=e("inherits");r._extend=function(e,t){if(!t||!A(t))return e;var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e};function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("FWaASH"),typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":28,FWaASH:21,inherits:20}],30:[function(e,t,r){(function(r){var n=e("./helpers/defaults");var i=e("narrator");var s=e("./user");var o=e("./apps");var a=e("./builds");var u=e("./releases");var f=e("./organizations");var l=e("./vouchers");var h="0.5.0";var c=function(e){this.defaults={};this.options=n(e,this.defaults);var t={host:r.env.DIVSHOT_API_URL||e.host||"https://api.divshot.com",headers:{}};if(r.env.DIVSHOT_API_VERSION||e.version||h){var c=r.env.DIVSHOT_API_VERSION||e.version||h;t.headers["Accept-Version"]=c}if(e.token){t.headers["authorization"]="Bearer "+e.token}if(e.session){t.headers["authorization"]="Session "+e.client_id}this._api=new i(t);if(e.session){this._api.withCredentials(true)}this.user=s(this._api,this,e);this.apps=o(this._api,this);this.builds=a(this._api,this);this.releases=u(this._api,this);this.organizations=f(this._api,this);this.vouchers=l(this._api,this)};c.createClient=function(e){return new c(e)};c.prototype.setTokenHeader=function(e,t){var t=t||this._api;t.options.headers.authorization="Bearer "+e};c.prototype.setToken=function(e){this.options.token=e;this._api.headers.authorization="Bearer "+e};t.exports=c}).call(this,e("FWaASH"))},{"./apps":31,"./builds":32,"./helpers/defaults":33,"./organizations":34,"./releases":35,"./user":36,"./vouchers":37,FWaASH:21,narrator:44}],31:[function(e,t,r){t.exports=function(t,r){var n=e("./user")(t);var i=t.endpoint("apps",{hooks:{pre:function(e){this.getEndpoint("users").authenticate(function(t,n){if(n)r.setTokenHeader(n,i);e()})}},_buildsFor:function(e){return e.endpoint("builds",{id:function(t){return this.one(t,{finalize:function(e){return this.http.request(this.url()+"/finalize","PUT",function(t,r,n){if(e)e(null,r)})},release:function(t,r){return this.http.request(e.url()+"/releases/"+t,"POST",{form:{build:this.options.id}},function(e,t,n){if(r)r(e,t)})}})}})},_releasesFor:function(e){return e.endpoint("releases",{env:function(e){return this.one(e,{rollback:function(e){return this.http.request(this.url()+"/rollback","POST",function(t,r,n){if(e)e(t,r)})},rollbackTo:function(e,t){return this.http.request(this.url()+"/rollback","POST",{form:{version:e}},function(e,r,n){if(t)t(e,r)})},promote:function(e,t){return this.http.request(this.url(),"POST",{form:{environment:e}},function(e,r,n){if(t)t(e,n)})}})}})},id:function(e){var t=this.one(e);t.builds=this._buildsFor(t);t.releases=this._releasesFor(t);t.domains=t.endpoint("domains",{_domainRequest:function(e,t,r){return this.http.request(this.url()+"/"+e,t,function(e,t,n){if(r)r(e,t)})},add:function(e,t){return this._domainRequest(e,"PUT",t)},remove:function(e,t){return this._domainRequest(e,"DELETE",t)}});t.env=function(e){return t.endpoint("env").one(e,{config:function(e,t){var r=this.url()+"/config";return this.http.request(r,"PUT",{form:{config:e}},function(e,r,n){t(e,r)})}})};t.subscription={updateCard:function(e,r){var n=t.url()+"/subscription/card";return t.http.request(n,"PUT",{form:{card:e}},r)}};return t},organization:function(e,t){var r=this.options.host+"/organizations/"+e+"/apps";return this.http.request(r,"GET",t)},create:function(e,t){return this.http.request(this.url(),"POST",{form:{name:e}},t)},createFromObject:function(e,t){return this.http.request(this.url(),"POST",{form:e},t)},remove:function(e){return this.http.request(this.url(),"DELETE",{},e)}});return i}},{"./user":36}],32:[function(e,t,r){t.exports=function(t,r){var n=e("./user")(t);var i=t.endpoint("builds",{hooks:{pre:function(e){this.getEndpoint("users").authenticate(function(t,n){if(n)r.setTokenHeader(n,i);e()})}},lookup:function(e,t){var r=this.url()+"/lookup";return this.http.request(r,"GET",{form:{host:e}},function(e,r,n){if(t)t(e,n)})}});return i}},{"./user":36}],33:[function(e,t,r){t.exports=function(e,t){e=e||{};Object.keys(t).forEach(function(r){if(typeof e[r]==="undefined"){e[r]=t[r]}});return e}},{}],34:[function(e,t,r){t.exports=function(t,r){var n=e("./user")(t);var i=t.endpoint("organizations",{hooks:{pre:function(e){this.getEndpoint("users").authenticate(function(t,n){if(n)r.setTokenHeader(n,i);e()})}},id:function(e){var t=this.one(e);t.apps=t.endpoint("apps");t.members=t.endpoint("members",{id:function(e){return this.one(e)}});return t}});return i}},{"./user":36}],35:[function(e,t,r){t.exports=function(t,r){var n=e("./user")(t);var i=t.endpoint("releases",{lookup:function(e,t){var r=this.url()+"/lookup?host="+e;return this.http.request(r,"GET",t)}});return i}},{"./user":36}],36:[function(e,t,r){var n=e("btoa");t.exports=function(e,t,r){var i=e.endpoint("self/emails",{add:function(e,t){return this.http.request(this.url(),"POST",{form:{address:e}},t)},primary:function(e,t){return this.http.request(this.url(),"POST",{form:{address:e,primary:true}},t)},remove:function(e,t){return i.one(e).remove(t)},resend:function(e,t){var e=i.one(e);var r=e.url()+"/resend";return this.http.request(r,"POST",t)}});var s=e.endpoint("self").one("password",{reset:function(e,t){return this.http.request(this.options.host+"/actions/reset_password/"+e,"POST",t)}});var o=e.endpoint("users",{credentials:r,emails:i,password:s,id:function(e){return o.one(e)},authenticate:function(e){var t=this;if(this.credentials.token)return e(null,this.credentials.token);if(this.credentials.session)return e(null);return this.http._http(this.options.host+"/token","POST",{form:{username:this.credentials.email,password:this.credentials.password,grant_type:"password"},headers:{Authorization:"Basic "+n(this.options.client_id+":")}},function(r,n,i){if(e&&r||i.status){r=r||i.error;return e(r)}if(e){t.credentials.token=i.access_token;e(r,t.credentials.token)}})},setCredentials:function(e){if(!this.credentials){this.credentials={}}this.credentials.email=e.email;this.credentials.password=e.password;this.credentials.token=e.token},setWelcomed:function(e){return this.http.request(this.options.host+"/self/welcomed","PUT",e)},self:function(e){return this.http.request(this.options.host+"/self","GET",e)},deleteAccount:function(e,t){return this.http.request(this.options.host+"/self","DELETE",{form:{email:e},headers:{Authorization:"Session "+this.credentials.client_id,"content-type":"application/json"}},t)},sendHelpRequest:function(e,t,r){return this.http.request(this.options.host+"/self/help","POST",{form:{subject:e,body:t}},r)},generateTicket:function(e){return this.http._http(this.options.host+"/token/tickets","POST",{headers:{Authorization:"Basic "+n(this.credentials.client_id+":")}},e)},checkTicketStatus:function(e,t){return this.http._http(this.options.host+"/token","POST",{form:{grant_type:"ticket",ticket:e},headers:{Authorization:"Basic "+n(this.credentials.client_id+":")}},t)}});return o}},{btoa:38}],37:[function(e,t,r){t.exports=function(e,t){var r=e.endpoint("vouchers");r.redeem=function(e,t){return this.http.request(this.url()+"/"+e+"/redeem","PUT",t)};return r}},{}],38:[function(e,t,r){(function(e){(function(){"use strict";function r(t){var r;if(t instanceof e){r=t}else{r=new e(t.toString(),"binary")}return r.toString("base64")}t.exports=r})()}).call(this,e("buffer").Buffer)},{buffer:11}],39:[function(e,t,r){var n=e("reqwest");var i=e("extend");t.exports=function(e,t){e.data=e.form;e.type=e.type||"json";i(e,this.options.context.options.api._xhr);e.error=function(e){t(e)};e.success=function(e){var r=e.self||e;t(null,r,r)};return n(e)}},{extend:45,reqwest:49}],40:[function(e,t,r){var n=e("./helpers/defaults");var i=e("extend");var s=e("url-join");var o=e("./http");var a=t.exports=function(e){this.hooks={pre:function(e){e()}};this.options={host:"",path:"",headers:{},_endpoints:{}};if(!e){e={}}if(!e.userDefined){e.userDefined={}}n(e.userDefined.hooks,this.hooks);i(this.options,e);i(this,e.userDefined);this.http=new o({context:this,headers:this.options.headers,hooks:this.hooks})};var u=e("./entity");a.prototype.url=function(){return s(this.options.host,this.options.path)};a.prototype.one=function(e,t){var r=new u({_endpoints:this.options._endpoints,host:this.options.host,path:s("/",this.options.path),headers:this.options.headers,userDefined:t||{},id:e,api:this.options.api});return r};a.prototype.list=function(e){return this.http.request(this.url(),"GET",function(t,r,n){if(e)e(t,n)})};a.prototype.create=function(e,t){var r={form:e};return this.http.request(this.url(),"POST",r,function(e,r,n){if(t)t(e,n)})};a.prototype.getEndpoint=function(e,t){var r=t?e+t:e;return this.options._endpoints[r]}},{"./entity":41,"./helpers/defaults":42,"./http":43,extend:45,"url-join":50}],41:[function(e,t,r){var n=e("./http");var i=e("url-join");var s=e("./helpers/defaults");var o=e("extend");var a=t.exports=function(e){this.hooks={pre:function(e){e()}};this.options={host:"",path:"",headers:{},id:0,_endpoints:{}};if(!e){e={}}if(!e.userDefined){e.userDefined={}}s(e.userDefined.hooks,this.hooks);o(this.options,e);o(this,e.userDefined);this.http=new n({context:this,headers:this.options.headers,hooks:this.hooks})};var u=e("./narrator");a.prototype.endpoint=function(e,t){var r=new u({id:this.options.id,host:this.url(),headers:this.options.headers,_endpoints:this.options._endpoints});return r.endpoint(e,t)};a.prototype.url=function(){return i(this.options.host,this.options.path,this.options.id)};a.prototype.get=function(e){return this.http.request(this.url(),"GET",function(t,r,n){if(e)e(t,n)})};a.prototype.update=function(e,t){var r={form:e};return this.http.request(this.url(),"PUT",r,function(e,r,n){if(t)t(e,n)})};a.prototype.remove=function(e){return this.http.request(this.url(),"DELETE",function(t,r,n){if(e)e(t,n)})};a.prototype.getEndpoint=function(e,t){var r=t?e+t:e;return this.options._endpoints[r]}},{"./helpers/defaults":42,"./http":43,"./narrator":44,extend:45,"url-join":50}],42:[function(e,t,r){t.exports=e(33)},{}],43:[function(e,t,r){(function(r){var n=e("extend");var i=e("./helpers/defaults");var s=e("request");var o=e("promise");var a=t.exports=function(e){this.options={headers:{},hooks:{},context:{}};n(this.options,e);if(t(this)){this.promise=this.options.context.options.api.promise}else{this.promise=function(e){return new o(e)}}function t(e){return e.options.context.options&&e.options.context.options.api&&e.options.context.options.api.promise}};a.prototype.setHeaders=function(e){this.options.headers=e};a.prototype.setHeader=function(e,t){this.options.headers[e]=t};a.prototype.removeHeader=function(e){delete this.options.headers[e]};a.prototype._parseJSON=function(e){try{e=JSON.parse(e)}catch(e){}finally{return e}};a.prototype._promiseWrap=function(e){return new o(e)};a.prototype._request=s;a.prototype._http=function(e,t,r,n){var s=this;if(typeof r==="function"){n=r;r={}}if(typeof n==="undefined"){n=function(){}}var o={url:e,method:t};o=i(r,o);return this._promiseWrap(function(e,t){s._request(o,function(r,i,o){var a=s._parseJSON(o);if(r){t(r)}else{e(a)}n(r,i,a)})})};a.prototype.request=function(e,t,i,s){var o=this;if(typeof i==="function"){s=i;i={}}var a={};var u={};n(a,{headers:this.options.headers},i);n(u,a,{path:e,method:t});return this._promiseWrap(function(n,i){r.nextTick(function(){var r=o.options.hooks&&o.options.hooks.pre?o.options.hooks.pre:function(e){e()};r.call(o.options.context,function(){o._http(e,t,a,s).then(n,i)})})})}}).call(this,e("FWaASH"))},{"./helpers/defaults":42,FWaASH:21,extend:45,promise:47,request:39}],44:[function(e,t,r){var n=e("extend");var i=e("url-join");var s=e("promise");var o=t.exports=function(e){e=e||{};this._endpoints={};this.host="/";n(this,e);var t=this.endpoint("").http;this._request=t._http;this.createPromise=t._promiseWrap};o.Http=e("./http");var a=e("./endpoint");o.prototype.endpoint=function(e,t){var r=this.id?e+this.id:e;if(!(r in this._endpoints)){var n=new a({host:this.host,path:i("/",e),headers:this.headers,userDefined:t||{},_endpoints:this._endpoints,api:this});this._endpoints[r]=n}return this._endpoints[r]};o.prototype._xhr={};o.prototype.withCredentials=function(e){this.xhr("withCredentials",e);return this};o.prototype.xhr=function(e,t){this._xhr[e]=t;return this}},{"./endpoint":40,"./http":43,extend:45,promise:47,"url-join":50}],45:[function(e,t,r){var n=Object.prototype.hasOwnProperty;var i=Object.prototype.toString;function s(e){if(!e||i.call(e)!=="[object Object]"||e.nodeType||e.setInterval)return false;var t=n.call(e,"constructor");var r=n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return false;var s;for(s in e){}return s===undefined||n.call(e,s)}t.exports=function e(){var t,r,n,i,o,a,u=arguments[0]||{},f=1,l=arguments.length,h=false;if(typeof u==="boolean"){h=u;u=arguments[1]||{};f=2}if(typeof u!=="object"&&typeof u!=="function"){u={}}for(;f<l;f++){if((t=arguments[f])!=null){for(r in t){n=u[r];i=t[r];if(u===i){continue}if(h&&i&&(s(i)||(o=Array.isArray(i)))){if(o){o=false;a=n&&Array.isArray(n)?n:[]}else{a=n&&s(n)?n:{}}u[r]=e(h,a,i)}else if(i!==undefined){u[r]=i}}}}return u}},{}],46:[function(e,t,r){"use strict";var n=e("./lib/next-tick");t.exports=i;function i(e){if(!(this instanceof i))return new i(e);if(typeof e!=="function")throw new TypeError("not a function");var t=null;var r=false;var o=null;var a=[];var u=this;this.then=function(e,t){return new i(function(r,n){f(new s(e,t,r,n))})};function f(e){if(t===null){a.push(e);return}n(function(){var r=t?e.onFulfilled:e.onRejected;if(r===null){(t?e.resolve:e.reject)(o);return}var n;try{n=r(o)}catch(t){e.reject(t);return}e.resolve(n)})}function l(e){if(r)return;h(e)}function h(e){if(t!==null)return;try{if(e===u)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e==="object"||typeof e==="function")){var n=e.then;if(typeof n==="function"){r=true;n.call(e,h,p);return}}t=true;o=e;d()}catch(e){p(e)}}function c(e){if(r)return;p(e)}function p(e){if(t!==null)return;t=false;o=e;d()}function d(){for(var e=0,t=a.length;e<t;e++)f(a[e]);a=null}try{e(l,c)}catch(e){c(e)}}function s(e,t,r,n){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.resolve=r;this.reject=n}},{"./lib/next-tick":48}],47:[function(e,t,r){"use strict";var n=e("./core.js");var i=e("./lib/next-tick");t.exports=n;n.from=function(e){if(e instanceof n)return e;return new n(function(t){t(e)})};n.denodeify=function(e){return function(){var t=this;var r=Array.prototype.slice.call(arguments);return new n(function(n,i){r.push(function(e,t){if(e)i(e);else n(t)});e.apply(t,r)})}};n.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments);var r=typeof t[t.length-1]==="function"?t.pop():null;try{return e.apply(this,arguments).nodeify(r)}catch(e){if(r==null){return new n(function(t,r){r(e)})}else{i(function(){r(e)})}}}};n.all=function(){var e=Array.prototype.slice.call(arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:arguments);return new n(function(t,r){if(e.length===0)return t([]);var n=e.length;function i(s,o){try{if(o&&(typeof o==="object"||typeof o==="function")){var a=o.then;if(typeof a==="function"){a.call(o,function(e){i(s,e)},r);return}}e[s]=o;if(--n===0){t(e)}}catch(e){r(e)}}for(var s=0;s<e.length;s++){i(s,e[s])}})};n.prototype.done=function(e,t){var r=arguments.length?this.then.apply(this,arguments):this;r.then(null,function(e){i(function(){throw e})})};n.prototype.nodeify=function(e){if(e==null)return this;this.then(function(t){i(function(){e(null,t)})},function(t){i(function(){e(t)})})}},{"./core.js":46,"./lib/next-tick":48}],48:[function(e,t,r){(function(e){"use strict";if(typeof setImmediate==="function"){t.exports=function(e){setImmediate(e)}}else if(typeof e!=="undefined"&&e&&typeof e.nextTick==="function"){t.exports=function(t){e.nextTick(t)}}else{t.exports=function(e){setTimeout(e,0)}}}).call(this,e("FWaASH"))},{FWaASH:21}],49:[function(require,module,exports){!function(e,t,r){if(typeof module!="undefined"&&module.exports)module.exports=r();else if(typeof define=="function"&&define.amd)define(r);else t[e]=r()}("reqwest",this,function(){var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray=typeof Array.isArray=="function"?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e["crossOrigin"]===true){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t){return t}else if(win[xDomainRequest]){return new XDomainRequest}else{throw new Error("Browser does not support cross-origin requests")}}else if(win[xmlHttpRequest]){return new XMLHttpRequest}else{return new ActiveXObject("Microsoft.XMLHTTP")}},globalSetupOptions={dataFilter:function(e){return e}};function handleReadyState(e,t,r){return function(){if(e._aborted)return r(e.request);if(e.request&&e.request[readyState]==4){e.request.onreadystatechange=noop;if(twoHundo.test(e.request.status))t(e.request);else r(e.request)}}}function setHeaders(e,t){var r=t["headers"]||{},n;r["Accept"]=r["Accept"]||defaultHeaders["accept"][t["type"]]||defaultHeaders["accept"]["*"];if(!t["crossOrigin"]&&!r[requestedWith])r[requestedWith]=defaultHeaders["requestedWith"];if(!r[contentType])r[contentType]=t["contentType"]||defaultHeaders["contentType"];for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){if(typeof t["withCredentials"]!=="undefined"&&typeof e.withCredentials!=="undefined"){e.withCredentials=!!t["withCredentials"]}}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,n){var i=uniqid++,s=e["jsonpCallback"]||"callback",o=e["jsonpCallbackName"]||reqwest.getcallbackPrefix(i),a=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),u=n.match(a),f=doc.createElement("script"),l=0,h=navigator.userAgent.indexOf("MSIE 10.0")!==-1;if(u){if(u[3]==="?"){n=n.replace(a,"$1="+o)}else{o=u[3]}}else{n=urlappend(n,s+"="+o)}win[o]=generalCallback;f.type="text/javascript";f.src=n;f.async=true;if(typeof f.onreadystatechange!=="undefined"&&!h){f.event="onclick";f.htmlFor=f.id="_reqwest_"+i}f.onload=f.onreadystatechange=function(){if(f[readyState]&&f[readyState]!=="complete"&&f[readyState]!=="loaded"||l){return false}f.onload=f.onreadystatechange=null;f.onclick&&f.onclick();t(lastValue);lastValue=undefined;head.removeChild(f);l=1};head.appendChild(f);return{abort:function(){f.onload=f.onreadystatechange=null;r({},"Request is aborted: timeout",{});lastValue=undefined;head.removeChild(f);l=1}}}function getRequest(e,t){var r=this.o,n=(r["method"]||"GET").toUpperCase(),i=typeof r==="string"?r:r["url"],s=r["processData"]!==false&&r["data"]&&typeof r["data"]!=="string"?reqwest.toQueryString(r["data"]):r["data"]||null,o,a=false;if((r["type"]=="jsonp"||n=="GET")&&s){i=urlappend(i,s);s=null}if(r["type"]=="jsonp")return handleJsonp(r,e,t,i);o=r.xhr&&r.xhr(r)||xhr(r);o.open(n,i,r["async"]===false?false:true);setHeaders(o,r);setCredentials(o,r);if(win[xDomainRequest]&&o instanceof win[xDomainRequest]){o.onload=e;o.onerror=t;o.onprogress=function(){};a=true}else{o.onreadystatechange=handleReadyState(this,e,t)}r["before"]&&r["before"](o);if(a){setTimeout(function(){o.send(s)},200)}else{o.send(s)}return o}function Reqwest(e,t){this.o=e;this.fn=t;init.apply(this,arguments)}function setType(e){var t=e.match(/\.(json|jsonp|html|xml)(\?|$)/);return t?t[1]:"js"}function init(o,fn){this.url=typeof o=="string"?o:o["url"];this.timeout=null;this._fulfilled=false;this._successHandler=function(){};this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=false;this._responseArgs={};var self=this,type=o["type"]||setType(this.url);fn=fn||function(){};if(o["timeout"]){this.timeout=setTimeout(function(){self.abort()},o["timeout"])}if(o["success"]){this._successHandler=function(){o["success"].apply(o,arguments)}}if(o["error"]){this._errorHandlers.push(function(){o["error"].apply(o,arguments)})}if(o["complete"]){this._completeHandlers.push(function(){o["complete"].apply(o,arguments)})}function complete(e){o["timeout"]&&clearTimeout(self.timeout);self.timeout=null;while(self._completeHandlers.length>0){self._completeHandlers.shift()(e)}}function success(resp){resp=type!=="jsonp"?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r){switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML;break}}self._responseArgs.resp=resp;self._fulfilled=true;fn(resp);self._successHandler(resp);while(self._fulfillmentHandlers.length>0){resp=self._fulfillmentHandlers.shift()(resp)}complete(resp)}function error(e,t,r){e=self.request;self._responseArgs.resp=e;self._responseArgs.msg=t;self._responseArgs.t=r;self._erred=true;while(self._errorHandlers.length>0){self._errorHandlers.shift()(e,t,r)}complete(e)}this.request=getRequest.call(this,success,error)}Reqwest.prototype={abort:function(){this._aborted=true;this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){e=e||function(){};t=t||function(){};if(this._fulfilled){this._responseArgs.resp=e(this._responseArgs.resp)}else if(this._erred){t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._fulfillmentHandlers.push(e);this._errorHandlers.push(t)}return this},always:function(e){if(this._fulfilled||this._erred){e(this._responseArgs.resp)}else{this._completeHandlers.push(e)}return this},fail:function(e){if(this._erred){e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._errorHandlers.push(e)}return this}};function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r=e.name,n=e.tagName.toLowerCase(),i=function(e){if(e&&!e["disabled"])t(r,normalize(e["attributes"]["value"]&&e["attributes"]["value"]["specified"]?e["value"]:e["text"]))},s,o,a,u;if(e.disabled||!r)return;switch(n){case"input":if(!/reset|button|image|file/i.test(e.type)){s=/checkbox/i.test(e.type);o=/radio/i.test(e.type);a=e.value;(!(s||o)||e.checked)&&t(r,normalize(s&&a===""?"on":a))}break;case"textarea":t(r,normalize(e.value));break;case"select":if(e.type.toLowerCase()==="select-one"){i(e.selectedIndex>=0?e.options[e.selectedIndex]:null)}else{for(u=0;e.length&&u<e.length;u++){e.options[u].selected&&i(e.options[u])}}break}}function eachFormElement(){var e=this,t,r,n=function(t,r){var n,i,s;for(n=0;n<r.length;n++){s=t[byTag](r[n]);for(i=0;i<s.length;i++)serial(s[i],e)}};for(r=0;r<arguments.length;r++){t=arguments[r];if(/input|select|textarea/i.test(t.tagName))serial(t,e);n(t,["input","select","textarea"])}}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};eachFormElement.apply(function(t,r){if(t in e){e[t]&&!isArray(e[t])&&(e[t]=[e[t]]);e[t].push(r)}else e[t]=r},arguments);return e}reqwest.serializeArray=function(){var e=[];eachFormElement.apply(function(t,r){e.push({name:t,value:r})},arguments);return e};reqwest.serialize=function(){if(arguments.length===0)return"";var e,t,r=Array.prototype.slice.call(arguments,0);e=r.pop();e&&e.nodeType&&r.push(e)&&(e=null);e&&(e=e.type);if(e=="map")t=serializeHash;else if(e=="array")t=reqwest.serializeArray;else t=serializeQueryString;return t.apply(null,r)};reqwest.toQueryString=function(e,t){var r,n,i=t||false,s=[],o=encodeURIComponent,a=function(e,t){t="function"===typeof t?t():t==null?"":t;s[s.length]=o(e)+"="+o(t)};if(isArray(e)){for(n=0;e&&n<e.length;n++)a(e[n]["name"],e[n]["value"])}else{for(r in e){if(e.hasOwnProperty(r))buildParams(r,e[r],i,a)}}return s.join("&").replace(/%20/g,"+")};function buildParams(e,t,r,n){var i,s,o,a=/\[\]$/;if(isArray(t)){for(s=0;t&&s<t.length;s++){o=t[s];if(r||a.test(e)){n(e,o)}else{buildParams(e+"["+(typeof o==="object"?s:"")+"]",o,r,n)}}}else if(t&&t.toString()==="[object Object]"){for(i in t){buildParams(e+"["+i+"]",t[i],r,n)}}else{n(e,t)}}reqwest.getcallbackPrefix=function(){return callbackPrefix};reqwest.compat=function(e,t){if(e){e["type"]&&(e["method"]=e["type"])&&delete e["type"];e["dataType"]&&(e["type"]=e["dataType"]);e["jsonpCallback"]&&(e["jsonpCallbackName"]=e["jsonpCallback"])&&delete e["jsonpCallback"];e["jsonp"]&&(e["jsonpCallback"]=e["jsonp"])}return new Reqwest(e,t)};reqwest.ajaxSetup=function(e){e=e||{};for(var t in e){globalSetupOptions[t]=e[t]}};return reqwest})},{}],50:[function(e,t,r){function n(e){return e.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}t.exports=function(){var e=[].slice.call(arguments,0).join("/");return n(e)}},{}],51:[function(e,t,r){"use strict";function n(e,t){t.stopPropagation();t.preventDefault();e(Array.prototype.slice.call(t.dataTransfer.files))}function i(e){e.stopPropagation();e.preventDefault();return false}function s(e,t){e.addEventListener("dragenter",i,false);e.addEventListener("dragover",i,false);e.addEventListener("drop",n.bind(undefined,t),false)}t.exports=s},{}],52:[function(e,t,r){(function(r,n){var i=e("url");var s=e("http");var o=e("https");var a=e("through");var u=e("duplexer");t.exports=l;function f(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){var n=r.concat(Array.prototype.slice.call(arguments));return t.apply(e,n)}}function l(e,t,n,i){if(typeof e==="object"){n=t;t=e;e=undefined}if(typeof t==="function"){n=t;t=undefined}if(!t)t={};if(e!==undefined)t.uri=e;if(i)t.method=i.method;var s=new h(t);var o=s.duplex&&a();if(o)o.pause();var l=a();var c=s.duplex?u(o,l):l;if(!s.duplex){l.writable=false}c.request=s;c.setHeader=f(s,s.setHeader);c.setLocation=f(s,s.setLocation);var p=false;c.on("close",function(){p=true});r.nextTick(function(){if(p)return;c.on("close",function(){e.destroy()});var e=s._send();e.on("error",f(c,c.emit,"error"));e.on("response",function(e){c.response=e;c.emit("response",e);if(s.duplex)e.pipe(l);else{e.on("data",function(e){l.queue(e)});e.on("end",function(){l.queue(null)})}});if(s.duplex){o.pipe(e);o.resume()}else e.end()});if(n){c.on("error",n);c.on("response",f(c,n,null))}return c}l.get=l;l.post=function(e,t,r){return l(e,t,r,{method:"POST"})};l.put=function(e,t,r){return l(e,t,r,{method:"PUT"})};l["delete"]=function(e,t,r){return l(e,t,r,{method:"DELETE"})};function h(e){this.headers=e.headers||{};var t=(e.method||"GET").toUpperCase();this.method=t;this.duplex=!(t==="GET"||t==="DELETE"||t==="HEAD");this.auth=e.auth;this.options=e;if(e.uri)this.setLocation(e.uri)}h.prototype._send=function(){this._sent=true;var e=this.headers||{};var t=i.parse(this.uri);var r=t.auth||this.auth;if(r){e.authorization="Basic "+n(r).toString("base64")}var a=t.protocol||"";var u=a==="https:"?o:s;var f={scheme:a.replace(/:$/,""),method:this.method,host:t.hostname,port:Number(t.port)||(a==="https:"?443:80),path:t.path,agent:false,headers:e,withCredentials:this.options.withCredentials};if(a==="https:"){f.pfx=this.options.pfx;f.key=this.options.key;f.cert=this.options.cert;f.ca=this.options.ca;f.ciphers=this.options.ciphers;f.rejectUnauthorized=this.options.rejectUnauthorized;f.secureProtocol=this.options.secureProtocol}var l=u.request(f);
if(l.setTimeout)l.setTimeout(Math.pow(2,32)*1e3);return l};h.prototype.setHeader=function(e,t){if(this._sent)throw new Error("request already sent");this.headers[e]=t;return this};h.prototype.setLocation=function(e){this.uri=e;return this}}).call(this,e("FWaASH"),e("buffer").Buffer)},{FWaASH:21,buffer:11,duplexer:53,http:15,https:19,through:54,url:27}],53:[function(e,t,r){var n=e("stream");var i=["write","end","destroy"];var s=["resume","pause"];var o=["data","close"];var a=Array.prototype.slice;t.exports=f;function u(e,t){if(e.forEach){return e.forEach(t)}for(var r=0;r<e.length;r++){t(e[r],r)}}function f(e,t){var r=new n;var f=false;u(i,l);u(s,h);u(o,c);t.on("end",p);e.on("drain",function(){r.emit("drain")});e.on("error",d);t.on("error",d);r.writable=e.writable;r.readable=t.readable;return r;function l(t){r[t]=n;function n(){return e[t].apply(e,arguments)}}function h(e){r[e]=n;function n(){r.emit(e);var n=t[e];if(n){return n.apply(t,arguments)}t.emit(e)}}function c(e){t.on(e,n);function n(){var t=a.call(arguments);t.unshift(e);r.emit.apply(r,t)}}function p(){if(f){return}f=true;var e=a.call(arguments);e.unshift("end");r.emit.apply(r,e)}function d(e){r.emit("error",e)}}},{stream:26}],54:[function(e,t,r){(function(n){var i=e("stream");r=t.exports=s;s.through=s;function s(e,t){e=e||function(e){this.queue(e)};t=t||function(){this.queue(null)};var r=false,s=false,o=[];var a=new i;a.readable=a.writable=true;a.paused=false;a.write=function(t){e.call(this,t);return!a.paused};function u(){while(o.length&&!a.paused){var e=o.shift();if(null===e)return a.emit("end");else a.emit("data",e)}}a.queue=a.push=function(e){o.push(e);u();return a};a.on("end",function(){a.readable=false;if(!a.writable)n.nextTick(function(){a.destroy()})});function f(){a.writable=false;t.call(a);if(!a.readable)a.destroy()}a.end=function(e){if(r)return;r=true;if(arguments.length)a.write(e);f();return a};a.destroy=function(){if(s)return;s=true;r=true;o.length=0;a.writable=a.readable=false;a.emit("close");return a};a.pause=function(){if(a.paused)return;a.paused=true;a.emit("pause");return a};a.resume=function(){if(a.paused){a.paused=false}u();if(!a.paused)a.emit("drain");return a};return a}}).call(this,e("FWaASH"))},{FWaASH:21,stream:26}],55:[function(e,t,r){(function(e){t.exports=!!(typeof e!="undefined"&&e.versions&&e.versions.node)}).call(this,e("FWaASH"))},{FWaASH:21}],56:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":57}],57:[function(e,t,r){(function(r){t.exports=a;var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};var i=e("core-util-is");i.inherits=e("inherits");var s=e("./_stream_readable");var o=e("./_stream_writable");i.inherits(a,s);f(n(o.prototype),function(e){if(!a.prototype[e])a.prototype[e]=o.prototype[e]});function a(e){if(!(this instanceof a))return new a(e);s.call(this,e);o.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",u)}function u(){if(this.allowHalfOpen||this._writableState.ended)return;r.nextTick(this.end.bind(this))}function f(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}}).call(this,e("FWaASH"))},{"./_stream_readable":59,"./_stream_writable":61,FWaASH:21,"core-util-is":62,inherits:63}],58:[function(e,t,r){t.exports=s;var n=e("./_stream_transform");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(s,n);function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}s.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":60,"core-util-is":62,inherits:63}],59:[function(e,t,r){(function(r){t.exports=h;var n=e("isarray");var i=e("buffer").Buffer;h.ReadableState=l;var s=e("events").EventEmitter;if(!s.listenerCount)s.listenerCount=function(e,t){return e.listeners(t).length};var o=e("stream");var a=e("core-util-is");a.inherits=e("inherits");var u;var f=e("util");if(f&&f.debuglog){f=f.debuglog("stream")}else{f=function(){}}a.inherits(h,o);function l(t,r){t=t||{};var n=t.highWaterMark;var i=t.objectMode?16:16*1024;this.highWaterMark=n||n===0?n:i;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.objectMode=!!t.objectMode;this.defaultEncoding=t.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!u)u=e("string_decoder/").StringDecoder;this.decoder=new u(t.encoding);this.encoding=t.encoding}}function h(e){if(!(this instanceof h))return new h(e);this._readableState=new l(e,this);this.readable=true;o.call(this)}h.prototype.push=function(e,t){var r=this._readableState;if(a.isString(e)&&!r.objectMode){t=t||r.defaultEncoding;if(t!==r.encoding){e=new i(e,t);t=""}}return c(this,r,e,t,false)};h.prototype.unshift=function(e){var t=this._readableState;return c(this,t,e,"",true)};function c(e,t,r,n,i){var s=m(t,r);if(s){e.emit("error",s)}else if(a.isNullOrUndefined(r)){t.reading=false;if(!t.ended)y(e,t)}else if(t.objectMode||r&&r.length>0){if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else{if(t.decoder&&!i&&!n)r=t.decoder.write(r);if(!i)t.reading=false;if(t.flowing&&t.length===0&&!t.sync){e.emit("data",r);e.read(0)}else{t.length+=t.objectMode?1:r.length;if(i)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)b(e)}_(e,t)}}else if(!i){t.reading=false}return p(t)}function p(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}h.prototype.setEncoding=function(t){if(!u)u=e("string_decoder/").StringDecoder;this._readableState.decoder=new u(t);this._readableState.encoding=t;return this};var d=8388608;function v(e){if(e>=d){e=d}else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function g(e,t){if(t.length===0&&t.ended)return 0;if(t.objectMode)return e===0?0:1;if(isNaN(e)||a.isNull(e)){if(t.flowing&&t.buffer.length)return t.buffer[0].length;else return t.length}if(e<=0)return 0;if(e>t.highWaterMark)t.highWaterMark=v(e);if(e>t.length){if(!t.ended){t.needReadable=true;return 0}else return t.length}return e}h.prototype.read=function(e){f("read",e);var t=this._readableState;var r=e;if(!a.isNumber(e)||e>0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){f("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)j(this);else b(this);return null}e=g(e,t);if(e===0&&t.ended){if(t.length===0)j(this);return null}var n=t.needReadable;f("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;f("length less than watermark",n)}if(t.ended||t.reading){n=false;f("reading or ended",n)}if(n){f("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false}if(n&&!t.reading)e=g(r,t);var i;if(e>0)i=T(e,t);else i=null;if(a.isNull(i)){t.needReadable=true;e=0}t.length-=e;if(t.length===0&&!t.ended)t.needReadable=true;if(r!==e&&t.ended&&t.length===0)j(this);if(!a.isNull(i))this.emit("data",i);return i};function m(e,t){var r=null;if(!a.isBuffer(t)&&!a.isString(t)&&!a.isNullOrUndefined(t)&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function y(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;b(e)}function b(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){f("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)r.nextTick(function(){w(e)});else w(e)}}function w(e){f("emit readable");e.emit("readable");A(e)}function _(e,t){if(!t.readingMore){t.readingMore=true;r.nextTick(function(){S(e,t)})}}function S(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){f("maybeReadMore read 0");e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}h.prototype._read=function(e){this.emit("error",new Error("not implemented"))};h.prototype.pipe=function(e,t){var i=this;var o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1;f("pipe count=%d opts=%j",o.pipesCount,t);var a=(!t||t.end!==false)&&e!==r.stdout&&e!==r.stderr;var u=a?h:p;if(o.endEmitted)r.nextTick(u);else i.once("end",u);e.on("unpipe",l);function l(e){f("onunpipe");if(e===i){p()}}function h(){f("onend");e.end()}var c=E(i);e.on("drain",c);function p(){f("cleanup");e.removeListener("close",g);e.removeListener("finish",m);e.removeListener("drain",c);e.removeListener("error",v);e.removeListener("unpipe",l);i.removeListener("end",h);i.removeListener("end",p);i.removeListener("data",d);if(o.awaitDrain&&(!e._writableState||e._writableState.needDrain))c()}i.on("data",d);function d(t){f("ondata");var r=e.write(t);if(false===r){f("false write response, pause",i._readableState.awaitDrain);i._readableState.awaitDrain++;i.pause()}}function v(t){f("onerror",t);y();e.removeListener("error",v);if(s.listenerCount(e,"error")===0)e.emit("error",t)}if(!e._events||!e._events.error)e.on("error",v);else if(n(e._events.error))e._events.error.unshift(v);else e._events.error=[v,e._events.error];function g(){e.removeListener("finish",m);y()}e.once("close",g);function m(){f("onfinish");e.removeListener("close",g);y()}e.once("finish",m);function y(){f("unpipe");i.unpipe(e)}e.emit("pipe",i);if(!o.flowing){f("pipe resume");i.resume()}return e};function E(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&s.listenerCount(e,"data")){t.flowing=true;A(e)}}}h.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this);return this}if(!e){var r=t.pipes;var n=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var i=L(t.pipes,e);if(i===-1)return this;t.pipes.splice(i,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this);return this};h.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t);if(e==="data"&&false!==this._readableState.flowing){this.resume()}if(e==="readable"&&this.readable){var i=this._readableState;if(!i.readableListening){i.readableListening=true;i.emittedReadable=false;i.needReadable=true;if(!i.reading){var s=this;r.nextTick(function(){f("readable nexttick read 0");s.read(0)})}else if(i.length){b(this,i)}}}return n};h.prototype.addListener=h.prototype.on;h.prototype.resume=function(){var e=this._readableState;if(!e.flowing){f("resume");e.flowing=true;if(!e.reading){f("resume read 0");this.read(0)}x(this,e)}return this};function x(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;r.nextTick(function(){k(e,t)})}}function k(e,t){t.resumeScheduled=false;e.emit("resume");A(e);if(t.flowing&&!t.reading)e.read(0)}h.prototype.pause=function(){f("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){f("pause");this._readableState.flowing=false;this.emit("pause")}return this};function A(e){var t=e._readableState;f("flow",t.flowing);if(t.flowing){do{var r=e.read()}while(null!==r&&t.flowing)}}h.prototype.wrap=function(e){var t=this._readableState;var r=false;var n=this;e.on("end",function(){f("wrapped end");if(t.decoder&&!t.ended){var e=t.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});e.on("data",function(i){f("wrapped data");if(t.decoder)i=t.decoder.write(i);if(!i||!t.objectMode&&!i.length)return;var s=n.push(i);if(!s){r=true;e.pause()}});for(var i in e){if(a.isFunction(e[i])&&a.isUndefined(this[i])){this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i)}}var s=["error","close","destroy","pause","resume"];q(s,function(t){e.on(t,n.emit.bind(n,t))});n._read=function(t){f("wrapped _read",t);if(r){r=false;e.resume()}};return n};h._fromList=T;function T(e,t){var r=t.buffer;var n=t.length;var s=!!t.decoder;var o=!!t.objectMode;var a;if(r.length===0)return null;if(n===0)a=null;else if(o)a=r.shift();else if(!e||e>=n){if(s)a=r.join("");else a=i.concat(r,n);r.length=0}else{if(e<r[0].length){var u=r[0];a=u.slice(0,e);r[0]=u.slice(e)}else if(e===r[0].length){a=r.shift()}else{if(s)a="";else a=new i(e);var f=0;for(var l=0,h=r.length;l<h&&f<e;l++){var u=r[0];var c=Math.min(e-f,u.length);if(s)a+=u.slice(0,c);else u.copy(a,f,0,c);if(c<u.length)r[0]=u.slice(c);else r.shift();f+=c}}}return a}function j(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");if(!t.endEmitted){t.ended=true;r.nextTick(function(){if(!t.endEmitted&&t.length===0){t.endEmitted=true;e.readable=false;e.emit("end")}})}}function q(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}function L(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,e("FWaASH"))},{FWaASH:21,buffer:11,"core-util-is":62,events:14,inherits:63,isarray:64,stream:26,"string_decoder/":65,util:10}],60:[function(e,t,r){t.exports=a;var n=e("./_stream_duplex");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(a,n);function s(e,t){this.afterTransform=function(e,r){return o(t,e,r)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function o(e,t,r){var n=e._transformState;n.transforming=false;var s=n.writecb;if(!s)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null;n.writecb=null;if(!i.isNullOrUndefined(r))e.push(r);if(s)s(t);var o=e._readableState;o.reading=false;if(o.needReadable||o.length<o.highWaterMark){e._read(o.highWaterMark)}}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e);this._transformState=new s(e,this);var t=this;this._readableState.needReadable=true;this._readableState.sync=false;this.once("prefinish",function(){if(i.isFunction(this._flush))this._flush(function(e){u(t,e)});else u(t)})}a.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};a.prototype._transform=function(e,t,r){throw new Error("not implemented")};a.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};a.prototype._read=function(e){var t=this._transformState;if(!i.isNull(t.writechunk)&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};function u(e,t){if(t)return e.emit("error",t);var r=e._writableState;var n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}},{"./_stream_duplex":57,"core-util-is":62,inherits:63}],61:[function(e,t,r){(function(r){t.exports=u;var n=e("buffer").Buffer;u.WritableState=a;var i=e("core-util-is");i.inherits=e("inherits");var s=e("stream");i.inherits(u,s);function o(e,t,r){this.chunk=e;this.encoding=t;this.callback=r}function a(e,t){e=e||{};var r=e.highWaterMark;var n=e.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n;this.objectMode=!!e.objectMode;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var i=e.decodeStrings===false;this.decodeStrings=!i;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){g(t,e)};this.writecb=null;this.writelen=0;this.buffer=[];this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}function u(t){var r=e("./_stream_duplex");if(!(this instanceof u)&&!(this instanceof r))return new u(t);this._writableState=new a(t,this);this.writable=true;s.call(this)}u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function f(e,t,n){var i=new Error("write after end");e.emit("error",i);r.nextTick(function(){n(i)})}function l(e,t,n,s){var o=true;if(!i.isBuffer(n)&&!i.isString(n)&&!i.isNullOrUndefined(n)&&!t.objectMode){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a);r.nextTick(function(){s(a)});o=false}return o}u.prototype.write=function(e,t,r){var n=this._writableState;var s=false;if(i.isFunction(t)){r=t;t=null}if(i.isBuffer(e))t="buffer";else if(!t)t=n.defaultEncoding;if(!i.isFunction(r))r=function(){};if(n.ended)f(this,n,r);else if(l(this,n,e,r)){n.pendingcb++;s=c(this,n,e,t,r)}return s};u.prototype.cork=function(){var e=this._writableState;e.corked++};u.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.buffer.length)b(this,e)}};function h(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&i.isString(t)){t=new n(t,r)}return t}function c(e,t,r,n,s){r=h(t,r,n);if(i.isBuffer(r))n="buffer";var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(!u)t.needDrain=true;if(t.writing||t.corked)t.buffer.push(new o(r,n,s));else p(e,t,false,a,r,n,s);return u}function p(e,t,r,n,i,s,o){t.writelen=n;t.writecb=o;t.writing=true;t.sync=true;if(r)e._writev(i,t.onwrite);else e._write(i,s,t.onwrite);t.sync=false}function d(e,t,n,i,s){if(n)r.nextTick(function(){t.pendingcb--;s(i)});else{t.pendingcb--;s(i)}e._writableState.errorEmitted=true;e.emit("error",i)}function v(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function g(e,t){var n=e._writableState;var i=n.sync;var s=n.writecb;v(n);if(t)d(e,n,i,t,s);else{var o=w(e,n);if(!o&&!n.corked&&!n.bufferProcessing&&n.buffer.length){b(e,n)}if(i){r.nextTick(function(){m(e,n,o,s)})}else{m(e,n,o,s)}}}function m(e,t,r,n){if(!r)y(e,t);t.pendingcb--;n();S(e,t)}function y(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function b(e,t){t.bufferProcessing=true;if(e._writev&&t.buffer.length>1){var r=[];for(var n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++;p(e,t,true,t.length,t.buffer,"",function(e){for(var n=0;n<r.length;n++){t.pendingcb--;r[n](e)}});t.buffer=[]}else{for(var n=0;n<t.buffer.length;n++){var i=t.buffer[n];var s=i.chunk;var o=i.encoding;var a=i.callback;var u=t.objectMode?1:s.length;p(e,t,false,u,s,o,a);if(t.writing){n++;break}}if(n<t.buffer.length)t.buffer=t.buffer.slice(n);else t.buffer.length=0}t.bufferProcessing=false}u.prototype._write=function(e,t,r){r(new Error("not implemented"))};u.prototype._writev=null;u.prototype.end=function(e,t,r){var n=this._writableState;if(i.isFunction(e)){r=e;e=null;t=null}else if(i.isFunction(t)){r=t;t=null}if(!i.isNullOrUndefined(e))this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)E(this,n,r)};function w(e,t){return t.ending&&t.length===0&&!t.finished&&!t.writing}function _(e,t){if(!t.prefinished){t.prefinished=true;e.emit("prefinish")}}function S(e,t){var r=w(e,t);if(r){if(t.pendingcb===0){_(e,t);t.finished=true;e.emit("finish")}else _(e,t)}return r}function E(e,t,n){t.ending=true;S(e,t);if(n){if(t.finished)r.nextTick(n);else e.once("finish",n)}t.ended=true}}).call(this,e("FWaASH"))},{"./_stream_duplex":57,FWaASH:21,buffer:11,"core-util-is":62,inherits:63,stream:26}],62:[function(e,t,r){(function(e){function t(e){return Array.isArray(e)}r.isArray=t;function n(e){return typeof e==="boolean"}r.isBoolean=n;function i(e){return e===null}r.isNull=i;function s(e){return e==null}r.isNullOrUndefined=s;function o(e){return typeof e==="number"}r.isNumber=o;function a(e){return typeof e==="string"}r.isString=a;function u(e){return typeof e==="symbol"}r.isSymbol=u;function f(e){return e===void 0}r.isUndefined=f;function l(e){return h(e)&&m(e)==="[object RegExp]"}r.isRegExp=l;function h(e){return typeof e==="object"&&e!==null}r.isObject=h;function c(e){return h(e)&&m(e)==="[object Date]"}r.isDate=c;function p(e){return h(e)&&(m(e)==="[object Error]"||e instanceof Error)}r.isError=p;function d(e){return typeof e==="function"}r.isFunction=d;function v(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=v;function g(t){return e.isBuffer(t)}r.isBuffer=g;function m(e){return Object.prototype.toString.call(e)}}).call(this,e("buffer").Buffer)},{buffer:11}],63:[function(e,t,r){t.exports=e(20)},{}],64:[function(e,t,r){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],65:[function(e,t,r){var n=e("buffer").Buffer;var i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function s(e){if(e&&!i(e)){throw new Error("Unknown encoding: "+e)}}var o=r.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");s(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=u;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=f;break;default:this.write=a;return}this.charBuffer=new n(6);this.charReceived=0;this.charLength=0};o.prototype.write=function(e){var t="";var r=0;while(this.charLength){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,r,n);this.charReceived+=n-r;r=n;if(this.charReceived<this.charLength){return""}t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(n==e.length)return t;e=e.slice(n,e.length);break}var s=this.detectIncompleteChar(e);var o=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-s,o);this.charReceived=s;o-=s}t+=e.toString(this.encoding,0,o);var o=t.length-1;var i=t.charCodeAt(o);if(i>=55296&&i<=56319){var a=this.surrogateSize;this.charLength+=a;this.charReceived+=a;this.charBuffer.copy(this.charBuffer,a,0,a);this.charBuffer.write(t.charAt(t.length-1),this.encoding);return t.substring(0,o)}return t};o.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var r=e[e.length-t];if(t==1&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}return t};o.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var r=this.charReceived;var n=this.charBuffer;var i=this.encoding;t+=n.slice(0,r).toString(i)}return t};function a(e){return e.toString(this.encoding)}function u(e){var t=this.charReceived=e.length%2;this.charLength=t?2:0;return t}function f(e){var t=this.charReceived=e.length%3;this.charLength=t?3:0;return t}},{buffer:11}],66:[function(e,t,r){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":58}],67:[function(e,t,r){r=t.exports=e("./lib/_stream_readable.js");r.Stream=e("stream");r.Readable=r;r.Writable=e("./lib/_stream_writable.js");r.Duplex=e("./lib/_stream_duplex.js");r.Transform=e("./lib/_stream_transform.js");r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":57,"./lib/_stream_passthrough.js":58,"./lib/_stream_readable.js":59,"./lib/_stream_transform.js":60,"./lib/_stream_writable.js":61,stream:26}],68:[function(e,t,r){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":60}],69:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":61}],70:[function(e,t,r){(function(n){var i=e("stream");r=t.exports=s;s.through=s;function s(e,t,r){e=e||function(e){this.queue(e)};t=t||function(){this.queue(null)};var s=false,o=false,a=[],u=false;var f=new i;f.readable=f.writable=true;f.paused=false;f.autoDestroy=!(r&&r.autoDestroy===false);f.write=function(t){e.call(this,t);return!f.paused};function l(){while(a.length&&!f.paused){var e=a.shift();if(null===e)return f.emit("end");else f.emit("data",e)}}f.queue=f.push=function(e){if(u)return f;if(e==null)u=true;a.push(e);l();return f};f.on("end",function(){f.readable=false;if(!f.writable&&f.autoDestroy)n.nextTick(function(){f.destroy()})});function h(){f.writable=false;t.call(f);if(!f.readable&&f.autoDestroy)f.destroy()}f.end=function(e){if(s)return;s=true;if(arguments.length)f.write(e);h();return f};f.destroy=function(){if(o)return;o=true;s=true;a.length=0;f.writable=f.readable=false;f.emit("close");return f};f.pause=function(){if(f.paused)return;f.paused=true;return f};f.resume=function(){if(f.paused){f.paused=false;f.emit("resume")}l();if(!f.paused)f.emit("drain");return f};return f}}).call(this,e("FWaASH"))},{FWaASH:21,stream:26}]},{},[3]);